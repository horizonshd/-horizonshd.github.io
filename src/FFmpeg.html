

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>FFmpeg Tool &mdash; Cheatsheet 1.0.0 文档</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="MindFusion.Diagramming for WPF, V3.7" href="MindFusion.html" />
    <link rel="prev" title="Relative Concepts of EMail" href="EMail.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Cheatsheet
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="reStructuresText.html">reStructuresText</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmd.html">cmd</a></li>
<li class="toctree-l1"><a class="reference internal" href="WindowsTerminal.html">Windows Terminal</a></li>
<li class="toctree-l1"><a class="reference internal" href="SSH.html">SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="Bash.html">Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="YAML.html">YAML</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx.html">sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="Encoding.html">Charset and Encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="Graphviz.html">Graphviz - Graph Visualization Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">git</a></li>
<li class="toctree-l1"><a class="reference internal" href="CMake.html">CMake</a></li>
<li class="toctree-l1"><a class="reference internal" href="C%2B%2B.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="Math.html">Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinearAlgebra.MIT.html">Linear Algrbra - MIT</a></li>
<li class="toctree-l1"><a class="reference internal" href="ImageProcessing.html">Image Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="OpenCV.html">OpenCV</a></li>
<li class="toctree-l1"><a class="reference internal" href="OpenGL.html">OpenGL</a></li>
<li class="toctree-l1"><a class="reference internal" href="GameEngine.html">GameEngine</a></li>
<li class="toctree-l1"><a class="reference internal" href="ComputerGraphics.html">Computer Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="DTD.html">DTD</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSD.html">XSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="WSDL.html">WSDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="dotnet.html">dotnet</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="manim.html">manim</a></li>
<li class="toctree-l1"><a class="reference internal" href="NSIS.html">nullsoft scriptable install system 3.0.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="Algorithm.html">Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="Vocabulary.html">Vocabulary</a></li>
<li class="toctree-l1"><a class="reference internal" href="Lua.html">Lua</a></li>
<li class="toctree-l1"><a class="reference internal" href="LaTeX.html">LaTeX</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ubuntu.html">Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="MEF.html">MEF in .NET Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="EMail.html">Relative Concepts of EMail</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FFmpeg Tool</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">基础使用</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">基础知识</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">一、 概念</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">1.1 容器</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">1.2 编码格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">1.3 编码器</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ffmpeg">二、 FFmpeg 命令行的使用</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">三、常用命令行参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">四、常见用法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id10">4.1 查看文件信息</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">4.2 转换编码格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">4.3 转换容器格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id13">4.4 调整码率</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transsizing">4.5 改变分辨率（transsizing）</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">4.6 提取音频</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">4.7 添加音轨</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">4.8 截图</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">4.9 裁剪</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">4.10 为音频添加封面</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id19">五、参考链接</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id20">命令行工具</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id21">ffmpeg</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ffmpeg-all">ffmpeg-all</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ffplay">ffplay</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ffplay-all">ffplay-all</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ffprobe">ffprobe</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ffprobe-all">ffprobe-all</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ffempeg">《FFempeg  从入门到精通》</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id22">第 1 章 FFmpeg 简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">第 2 章 FFmpeg 工具使用基础</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id24">2.1 ffmpeg 常用命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id25">2.2 ffprobe 常用命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id26">2.3 ffplay 常用命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id27">2.4 小结</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id28">第 3 章 FFmpeg 转封装</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mp4">3.1 音视频文件转 MP4 格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flv">3.2 视频文件转 FLV</a></li>
<li class="toctree-l4"><a class="reference internal" href="#m3u8">3.3 视频文件转 M3U8</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id29">3.4 视频文件切片</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id30">3.5 音视频文件音视频流抽取</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id31">3.6 系统资源使用情况</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id32">3.7 小结</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id33">第 4 章 FFmpeg 转码</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-h-264-h-265">4.1 FFmpeg 软编码 H.264 与 H.265</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id34">4.2 FFmpeg 硬编解码</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-mp3">4.3 FFmpeg 输出 MP3</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-aac">4.4 FFmpeg 输出 AAC</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id35">4.5 系统资源使用情况</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id36">4.6 小结</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id37">第 5 章 FFmpeg 流媒体</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-rtmp">5.1 FFmpeg 发布与录制 RTMP 流</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-rtsp">5.2 FFmpeg 录制 RTSP 流</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-http">5.3 FFmpeg 录制 HTTP 流</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-udp-tcp">5.4 FFmpeg 录制和发布 UDP/TCP 流</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id38">5.5 FFmpeg 多路推流</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-hds">5.6 FFmpeg 生成 HDS 流</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-dash">5.7 FFmpeg 生成 DASH 流</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id39">5.8 小结</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id40">第 6 章 FFmpeg 滤镜使用</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-filter">6.1 FFmpeg 滤镜 Filter 描述格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id41">6.2 FFmpeg 为视频加水印</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id42">6.3 FFmpeg 生成画中画</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id43">6.4 FFmpeg 视频多宫格处理</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id44">6.5 FFmpeg 音频流滤镜操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id45">6.6 FFmpeg 音频音量探测</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id46">6.7 FFmpeg 为视频加字幕</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id47">6.8 FFmpeg 视频抠图合并</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-3d">6.9 FFmpeg 3D 视频处理</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id48">6.10 FFmpeg 定时视频截图</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id49">6.11 FFmpeg 生成测试元数据</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id50">6.12 FFmpeg 对音视频倍速处理</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id51">6.13 小结</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id52">第 7 章 FFmpeg 采集设备</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-linux">7.1 FFmpeg 中 Linux 设备操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-os-x">7.2 FFmpeg 中 OS X 设备操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ffmpeg-windows">7.3 FFmpeg 中 Windows 设备操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id53">7.4 小结</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ffmpeg-libavformat">第 8 章 FFmpeg 接口 libavformat 的使用</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id54">8.1 音视频流封装</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id55">8.2 音视频文件解封装</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id56">8.3 音视频文件转封装</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id57">8.4 视频截取</a></li>
<li class="toctree-l4"><a class="reference internal" href="#avio">8.5 avio 内存数据操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id58">8.6 小结</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ffmpeg-libavcodec">第 9 章 FFmpeg 接口 libavcodec 的使用</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id59">9.1 FFmpeg 旧接口的使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id60">9.1 FFmpeg 新接口的使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id61">9.3 小结</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ffmpeg-libavfilter">第 10 章 FFmpeg 接口 libavfilter 的使用</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#filtergraph-filter">10.1 filtergraph 和 filter 简述</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id62">10.2 FFmpeg 中预留的滤镜</a></li>
<li class="toctree-l4"><a class="reference internal" href="#avfilter">10.3 avfilter 流程图</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logo">10.4 使用滤镜加 LOGO 操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id63">10.5 小结</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="MindFusion.html">MindFusion.Diagramming for WPF, V3.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="DigitalSignalProcess.html">Digital Signal Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="VisualStudio.html">Visual Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="VisualStudioCode.html">Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="OpenSourceProjects.html">Open Source Projects</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Cheatsheet</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>FFmpeg Tool</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/src/FFmpeg.rst.txt" rel="nofollow"> 查看页面源码</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ffmpeg-tool">
<h1>FFmpeg Tool<a class="headerlink" href="#ffmpeg-tool" title="永久链接至标题">¶</a></h1>
<div class="section" id="id1">
<h2>基础使用<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h2>
<ul>
<li><p>命令行基本格式：</p>
<p>usage: ffmpeg [options] [[infile options] -i infile]… {[outfile options] outfile}…</p>
</li>
<li><p>mp4 转 gif:</p>
<p>ffmpeg -i ./videos/Shapes.mp4 -an -filter:v “setpts=0.5*PTS” ./videos/Shapes.gif</p>
</li>
</ul>
</div>
<div class="section" id="id3">
<h2><a class="reference external" href="http://www.ruanyifeng.com/blog/2020/01/ffmpeg.html">基础知识</a><a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<div class="section" id="id4">
<h3>一、 概念<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h3>
<p>介绍 FFmpeg 用法之前，需要了解一些视频处理的基本概念。</p>
<div class="section" id="id5">
<h4>1.1 容器<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h4>
<p>视频文件本身其实是一个容器（container），里面包括了视频和音频，也可能有字幕等其他内容。
一般来说，视频文件的后缀名反映了它的容器格式。常见的容器格式有以下几种：</p>
<blockquote>
<div><ul class="simple">
<li><p>MP4</p></li>
<li><p>MKV</p></li>
<li><p>WebM</p></li>
<li><p>AVI</p></li>
</ul>
</div></blockquote>
<p>下面的命令查看 FFmpeg 支持的容器：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg -formats
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h4>1.2 编码格式<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h4>
<p>视频和音频都需要经过编码，才能保存成文件。不同的编码格式（CODEC），有不同的压缩率，
会导致文件大小和清晰度的差异。</p>
<p>常用的视频编码格式如下:</p>
<blockquote>
<div><ul class="simple">
<li><p>H.262</p></li>
<li><p>H.264</p></li>
<li><p>H.265</p></li>
</ul>
</div></blockquote>
<p>上面的编码格式都是有版权的，但是可以免费使用。此外，还有几种无版权的视频编码格式：</p>
<blockquote>
<div><ul class="simple">
<li><p>VP8</p></li>
<li><p>VP9</p></li>
<li><p>AV1</p></li>
</ul>
</div></blockquote>
<p>常用的音频编码格式如下：</p>
<blockquote>
<div><ul class="simple">
<li><p>MP3</p></li>
<li><p>AAC</p></li>
</ul>
</div></blockquote>
<p>上面所有这些都是有损的编码格式，编码后会损失一些细节，以换取压缩后较小的文件体积。
无损的编码格式压缩出来的文件体积较大，这里就不介绍了。</p>
<p>下面的命令可以查看 FFmpeg 支持的（视频/音频）编码格式：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg -codecs
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h4>1.3 编码器<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h4>
<p>编码器（encoders）是实现某种编码格式的库文件。只有安装了某种格式的编码器，
才能实现该格式视频/音频的编码和解码。</p>
<p>以下是一些 FFmpeg 内置的视频编码器：</p>
<blockquote>
<div><ul class="simple">
<li><p>libx264：最流行的开源 H.264 编码器</p></li>
<li><p>NVENC：基于 NVIDIA GPU 的 H.264 编码器</p></li>
<li><p>libx265：开源的 HEVC 编码器</p></li>
<li><p>libvpx：谷歌的 VP8 和 VP9 编码器</p></li>
<li><p>libaom：AV1 编码器</p></li>
</ul>
</div></blockquote>
<p>音频编码器如下：</p>
<blockquote>
<div><ul class="simple">
<li><p>libfdk-aac</p></li>
<li><p>aac</p></li>
</ul>
</div></blockquote>
<p>下面的命令可以查看 FFmpeg 已安装的编码器：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg -encoders
</pre></div>
</div>
</div>
</div>
<div class="section" id="ffmpeg">
<h3>二、 FFmpeg 命令行的使用<a class="headerlink" href="#ffmpeg" title="永久链接至标题">¶</a></h3>
<p>FFmpeg 的命令行参数非常多，可以分成五个部分：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg {1} {2} -i {3} {4} {5}
</pre></div>
</div>
<p>上面命令中，五个部分的参数依次如下：</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>全局参数</p></li>
<li><p>输入文件参数</p></li>
<li><p>输入文件</p></li>
<li><p>输出文件参数</p></li>
<li><p>输出文件</p></li>
</ol>
</div></blockquote>
<p>参数太多的时候，为了便于查看，ffmpeg 命令可以写成多行：</p>
<div class="literal-block-wrapper docutils container" id="id64">
<div class="code-block-caption"><span class="caption-text">linux</span><a class="headerlink" href="#id64" title="永久链接至代码">¶</a></div>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>ffmpeg \
[全局参数] \
[输入文件参数] \
-i [输入文件] \
[输出文件参数] \
[输出文件]
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id65">
<div class="code-block-caption"><span class="caption-text">windows</span><a class="headerlink" href="#id65" title="永久链接至代码">¶</a></div>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>ffmpeg <span class="se">^</span>
<span class="se">[</span>全局参数] <span class="se">^</span>
<span class="se">[</span>输入文件参数] <span class="se">^</span>
<span class="se">-</span>i [输入文件] <span class="se">^</span>
<span class="se">[</span>输出文件参数] <span class="se">^</span>
<span class="se">[</span>输出文件]
</pre></div>
</div>
</div>
<p>下面是一个例子：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg \
-y \ # 全局参数
-c:a libfdk_aac -c:v libx264 \ # 输入文件参数
-i input.mp4 \ # 输入文件
-c:v libvpx-vp9 -c:a libvorbis \ # 输出文件参数
output.webm # 输出文件
</pre></div>
</div>
<p>上面的命令将 mp4 文件转成 webm 文件，这两个都是容器格式。
输入的 mp4 文件的音频编码格式是 aac，视频编码格式是 H.264；
输出的 webm 文件的视频编码格式是 VP9，音频格式是 Vorbis。</p>
<p>如果不指明编码格式，FFmpeg 会自己判断输入文件的编码。
因此，上面的命令可以简单写成下面的样子：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg -i input.avi output.mp4
</pre></div>
</div>
</div>
<div class="section" id="id8">
<h3>三、常用命令行参数<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h3>
<p>FFmpeg 常用的命令行参数如下：</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>参数</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-c</p></td>
<td><p>指定编码器</p></td>
</tr>
<tr class="row-odd"><td><p>-c copy</p></td>
<td><p>直接复制，不经过重新编码（这样比较快）</p></td>
</tr>
<tr class="row-even"><td><p>-c:v</p></td>
<td><p>指定视频编码器</p></td>
</tr>
<tr class="row-odd"><td><p>-c:a</p></td>
<td><p>指定音频编码器</p></td>
</tr>
<tr class="row-even"><td><p>-i</p></td>
<td><p>指定输入文件</p></td>
</tr>
<tr class="row-odd"><td><p>-an</p></td>
<td><p>去除音频流</p></td>
</tr>
<tr class="row-even"><td><p>-vn</p></td>
<td><p>去除视频流</p></td>
</tr>
<tr class="row-odd"><td><p>-preset</p></td>
<td><p>指定输出的视频质量，会影响文件的生成速度，</p>
<p>有以下几个可用的值：</p>
<p>ultrafast, superfast, veryfast,</p>
<p>faster, fast, medium, slow, slower, veryslow。</p>
</td>
</tr>
<tr class="row-even"><td><p>-y</p></td>
<td><p>不经过确认，输出时直接覆盖同名文件</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id9">
<h3>四、常见用法<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h3>
<div class="section" id="id10">
<h4>4.1 查看文件信息<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h4>
<p>查看视频文件的元信息，比如编码格式和比特率，可以只使用 <code class="docutils literal notranslate"><span class="pre">-i</span></code> 参数：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg -i input.mp4
</pre></div>
</div>
<p>上面命令会输出很多冗余信息，加上 <code class="docutils literal notranslate"><span class="pre">-hide_banner</span></code> 参数，可以只显示元信息：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg -i input.mp4 -hide_banner
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h4>4.2 转换编码格式<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h4>
<p>转换编码格式（transcoding）指的是， 将视频文件从一种编码转成另一种编码。
比如转成 H.264 编码，一般使用编码器libx264，所以只需指定输出文件的视频编码器即可：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg -i [input.file] -c:v libx264 output.mp4
</pre></div>
</div>
<p>下面是转成 H.265 编码的写法：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg -i [input.file] -c:v libx265 output.mp4
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h4>4.3 转换容器格式<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h4>
<p>转换容器格式（transmuxing）指的是，将视频文件从一种容器转到另一种容器。
下面是 mp4 转 webm 的写法：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg -i input.mp4 -c copy output.webm
</pre></div>
</div>
<p>上面例子中，只是转一下容器，内部的编码格式不变，所以使用 <code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">copy</span></code> 指定直接拷贝，
不经过转码，这样比较快。</p>
</div>
<div class="section" id="id13">
<h4>4.4 调整码率<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h4>
<p>调整码率（transrating）指的是，改变编码的比特率，一般用来将视频文件的体积变小。
下面的例子指定码率最小为 964K，最大为 3856K，缓冲区大小为 2000K ：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg \
-i input.mp4 \
-minrate 964K -maxrate 3856K -bufsize 2000K \
output.mp4
</pre></div>
</div>
</div>
<div class="section" id="transsizing">
<h4>4.5 改变分辨率（transsizing）<a class="headerlink" href="#transsizing" title="永久链接至标题">¶</a></h4>
<p>下面是改变视频分辨率（transsizing）的例子，从 1080p 转为 480p ：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg \
-i input.mp4 \
-vf scale=480:-1 \
output.mp4
</pre></div>
</div>
</div>
<div class="section" id="id14">
<h4>4.6 提取音频<a class="headerlink" href="#id14" title="永久链接至标题">¶</a></h4>
<p>有时，需要从视频里面提取音频（demuxing），可以像下面这样写：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg \
-i input.mp4 \
-vn -c:a copy \
output.aac
</pre></div>
</div>
<p>上面例子中， <code class="docutils literal notranslate"><span class="pre">-vn</span></code> 表示去掉视频， <code class="docutils literal notranslate"><span class="pre">-c:a</span> <span class="pre">copy</span></code> 表示不改变音频编码，直接拷贝。</p>
</div>
<div class="section" id="id15">
<h4>4.7 添加音轨<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h4>
<p>添加音轨（muxing）指的是，将外部音频加入视频，比如添加背景音乐或旁白：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg \
-i input.aac -i input.mp4 \
output.mp4
</pre></div>
</div>
<p>上面例子中，有音频和视频两个输入文件，FFmpeg 会将它们合成为一个文件。</p>
</div>
<div class="section" id="id16">
<h4>4.8 截图<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h4>
<p>下面的例子是从指定时间开始，连续对1秒钟的视频进行截图：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg \
-y \
-i input.mp4 \
-ss 00:01:24 -t 00:00:01 \
output_<span class="nv">%3</span>d.jpg
</pre></div>
</div>
<p>如果只需要截一张图，可以指定只截取一帧：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg \
-ss 01:23:45 \
-i input \
-vframes 1 -q:v 2 \
output.jpg
</pre></div>
</div>
<p>上面例子中， <code class="docutils literal notranslate"><span class="pre">-vframes</span> <span class="pre">1</span></code> 指定只截取一帧， <code class="docutils literal notranslate"><span class="pre">-q:v</span> <span class="pre">2</span></code> 表示输出的图片质量，
一般是 1 到 5 之间（1 为质量最高）。</p>
</div>
<div class="section" id="id17">
<h4>4.9 裁剪<a class="headerlink" href="#id17" title="永久链接至标题">¶</a></h4>
<p>裁剪（cutting）指的是，截取原始视频里面的一个片段，输出为一个新视频。
可以指定开始时间（start）和持续时间（duration），也可以指定结束时间（end）：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg -ss [start] -i [input] -t [duration] -c copy [output]
$ ffmpeg -ss [start] -i [input] -to [end] -c copy [output]
</pre></div>
</div>
<p>下面是实际的例子：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg -ss 00:01:50 -i [input] -t 10.5 -c copy [output]
$ ffmpeg -ss 2.5 -i [input] -to 10 -c copy [output]
</pre></div>
</div>
<p>上面例子中， <code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">copy</span></code> 表示不改变音频和视频的编码格式，直接拷贝，这样会快很多。</p>
</div>
<div class="section" id="id18">
<h4>4.10 为音频添加封面<a class="headerlink" href="#id18" title="永久链接至标题">¶</a></h4>
<p>有些视频网站只允许上传视频文件。如果要上传音频文件，必须为音频添加封面，
将其转为视频，然后上传。</p>
<p>下面命令可以将音频文件，转为带封面的视频文件：</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span>$ ffmpeg \
-loop 1 \
-i cover.jpg -i input.mp3 \
-c:v libx264 -c:a aac -b:a 192k -shortest \
output.mp4
</pre></div>
</div>
<p>上面命令中，有两个输入文件，一个是封面图片 <code class="docutils literal notranslate"><span class="pre">cover.jpg</span></code> ，
另一个是音频文件 <code class="docutils literal notranslate"><span class="pre">input.mp3</span></code> 。 <code class="docutils literal notranslate"><span class="pre">-loop</span> <span class="pre">1</span></code> 参数表示图片无限循环，
<code class="docutils literal notranslate"><span class="pre">-shortest</span></code> 参数表示音频文件结束，输出视频就结束。</p>
</div>
</div>
<div class="section" id="id19">
<h3>五、参考链接<a class="headerlink" href="#id19" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/leandromoreira/ffmpeg-libav-tutorial#chapter-3---transcoding">FFmpeg libav tutorial</a></p></li>
<li><p><a class="reference external" href="https://github.com/leandromoreira/digital_video_introduction/blob/master/encoding_pratical_examples.md#split-and-merge-smoothly">Digital video introduction</a></p></li>
<li><p><a class="reference external" href="http://slhck.info/ffmpeg-encoding-course/">FFmpeg encoding and editing course</a></p></li>
<li><p><a class="reference external" href="https://dragonquest64.blogspot.com/2019/10/making-slideshows-wffmpeg.html">Making Slideshows w/FFMpeg</a></p></li>
<li><p><a class="reference external" href="https://itsfoss.com/ffmpeg/">The Complete Guide for Using ffmpeg in Linux</a></p></li>
<li><p><a class="reference external" href="https://bernd.dev/2020/04/adding-subtitles/">Adding subtitles to your videos the easy way</a></p></li>
</ul>
</div>
</div>
<div class="section" id="id20">
<h2>命令行工具<a class="headerlink" href="#id20" title="永久链接至标题">¶</a></h2>
<div class="section" id="id21">
<h3>ffmpeg<a class="headerlink" href="#id21" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="ffmpeg-all">
<h3>ffmpeg-all<a class="headerlink" href="#ffmpeg-all" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="ffplay">
<h3>ffplay<a class="headerlink" href="#ffplay" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="ffplay-all">
<h3>ffplay-all<a class="headerlink" href="#ffplay-all" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="ffprobe">
<h3>ffprobe<a class="headerlink" href="#ffprobe" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="ffprobe-all">
<h3>ffprobe-all<a class="headerlink" href="#ffprobe-all" title="永久链接至标题">¶</a></h3>
</div>
</div>
<div class="section" id="ffempeg">
<h2>《FFempeg  从入门到精通》<a class="headerlink" href="#ffempeg" title="永久链接至标题">¶</a></h2>
<div class="section" id="id22">
<h3>第 1 章 FFmpeg 简介<a class="headerlink" href="#id22" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="id23">
<h3>第 2 章 FFmpeg 工具使用基础<a class="headerlink" href="#id23" title="永久链接至标题">¶</a></h3>
<div class="section" id="id24">
<h4>2.1 ffmpeg 常用命令<a class="headerlink" href="#id24" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id25">
<h4>2.2 ffprobe 常用命令<a class="headerlink" href="#id25" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id26">
<h4>2.3 ffplay 常用命令<a class="headerlink" href="#id26" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id27">
<h4>2.4 小结<a class="headerlink" href="#id27" title="永久链接至标题">¶</a></h4>
</div>
</div>
<div class="section" id="id28">
<h3>第 3 章 FFmpeg 转封装<a class="headerlink" href="#id28" title="永久链接至标题">¶</a></h3>
<div class="section" id="mp4">
<h4>3.1 音视频文件转 MP4 格式<a class="headerlink" href="#mp4" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="flv">
<h4>3.2 视频文件转 FLV<a class="headerlink" href="#flv" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="m3u8">
<h4>3.3 视频文件转 M3U8<a class="headerlink" href="#m3u8" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id29">
<h4>3.4 视频文件切片<a class="headerlink" href="#id29" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id30">
<h4>3.5 音视频文件音视频流抽取<a class="headerlink" href="#id30" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id31">
<h4>3.6 系统资源使用情况<a class="headerlink" href="#id31" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id32">
<h4>3.7 小结<a class="headerlink" href="#id32" title="永久链接至标题">¶</a></h4>
</div>
</div>
<div class="section" id="id33">
<h3>第 4 章 FFmpeg 转码<a class="headerlink" href="#id33" title="永久链接至标题">¶</a></h3>
<div class="section" id="ffmpeg-h-264-h-265">
<h4>4.1 FFmpeg 软编码 H.264 与 H.265<a class="headerlink" href="#ffmpeg-h-264-h-265" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id34">
<h4>4.2 FFmpeg 硬编解码<a class="headerlink" href="#id34" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="ffmpeg-mp3">
<h4>4.3 FFmpeg 输出 MP3<a class="headerlink" href="#ffmpeg-mp3" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="ffmpeg-aac">
<h4>4.4 FFmpeg 输出 AAC<a class="headerlink" href="#ffmpeg-aac" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id35">
<h4>4.5 系统资源使用情况<a class="headerlink" href="#id35" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id36">
<h4>4.6 小结<a class="headerlink" href="#id36" title="永久链接至标题">¶</a></h4>
</div>
</div>
<div class="section" id="id37">
<h3>第 5 章 FFmpeg 流媒体<a class="headerlink" href="#id37" title="永久链接至标题">¶</a></h3>
<div class="section" id="ffmpeg-rtmp">
<h4>5.1 FFmpeg 发布与录制 RTMP 流<a class="headerlink" href="#ffmpeg-rtmp" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="ffmpeg-rtsp">
<h4>5.2 FFmpeg 录制 RTSP 流<a class="headerlink" href="#ffmpeg-rtsp" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="ffmpeg-http">
<h4>5.3 FFmpeg 录制 HTTP 流<a class="headerlink" href="#ffmpeg-http" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="ffmpeg-udp-tcp">
<h4>5.4 FFmpeg 录制和发布 UDP/TCP 流<a class="headerlink" href="#ffmpeg-udp-tcp" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id38">
<h4>5.5 FFmpeg 多路推流<a class="headerlink" href="#id38" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="ffmpeg-hds">
<h4>5.6 FFmpeg 生成 HDS 流<a class="headerlink" href="#ffmpeg-hds" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="ffmpeg-dash">
<h4>5.7 FFmpeg 生成 DASH 流<a class="headerlink" href="#ffmpeg-dash" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id39">
<h4>5.8 小结<a class="headerlink" href="#id39" title="永久链接至标题">¶</a></h4>
</div>
</div>
<div class="section" id="id40">
<h3>第 6 章 FFmpeg 滤镜使用<a class="headerlink" href="#id40" title="永久链接至标题">¶</a></h3>
<div class="section" id="ffmpeg-filter">
<h4>6.1 FFmpeg 滤镜 Filter 描述格式<a class="headerlink" href="#ffmpeg-filter" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id41">
<h4>6.2 FFmpeg 为视频加水印<a class="headerlink" href="#id41" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id42">
<h4>6.3 FFmpeg 生成画中画<a class="headerlink" href="#id42" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id43">
<h4>6.4 FFmpeg 视频多宫格处理<a class="headerlink" href="#id43" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id44">
<h4>6.5 FFmpeg 音频流滤镜操作<a class="headerlink" href="#id44" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id45">
<h4>6.6 FFmpeg 音频音量探测<a class="headerlink" href="#id45" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id46">
<h4>6.7 FFmpeg 为视频加字幕<a class="headerlink" href="#id46" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id47">
<h4>6.8 FFmpeg 视频抠图合并<a class="headerlink" href="#id47" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="ffmpeg-3d">
<h4>6.9 FFmpeg 3D 视频处理<a class="headerlink" href="#ffmpeg-3d" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id48">
<h4>6.10 FFmpeg 定时视频截图<a class="headerlink" href="#id48" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id49">
<h4>6.11 FFmpeg 生成测试元数据<a class="headerlink" href="#id49" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id50">
<h4>6.12 FFmpeg 对音视频倍速处理<a class="headerlink" href="#id50" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id51">
<h4>6.13 小结<a class="headerlink" href="#id51" title="永久链接至标题">¶</a></h4>
</div>
</div>
<div class="section" id="id52">
<h3>第 7 章 FFmpeg 采集设备<a class="headerlink" href="#id52" title="永久链接至标题">¶</a></h3>
<div class="section" id="ffmpeg-linux">
<h4>7.1 FFmpeg 中 Linux 设备操作<a class="headerlink" href="#ffmpeg-linux" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="ffmpeg-os-x">
<h4>7.2 FFmpeg 中 OS X 设备操作<a class="headerlink" href="#ffmpeg-os-x" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="ffmpeg-windows">
<h4>7.3 FFmpeg 中 Windows 设备操作<a class="headerlink" href="#ffmpeg-windows" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id53">
<h4>7.4 小结<a class="headerlink" href="#id53" title="永久链接至标题">¶</a></h4>
</div>
</div>
<div class="section" id="ffmpeg-libavformat">
<h3>第 8 章 FFmpeg 接口 libavformat 的使用<a class="headerlink" href="#ffmpeg-libavformat" title="永久链接至标题">¶</a></h3>
<div class="section" id="id54">
<h4>8.1 音视频流封装<a class="headerlink" href="#id54" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id55">
<h4>8.2 音视频文件解封装<a class="headerlink" href="#id55" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id56">
<h4>8.3 音视频文件转封装<a class="headerlink" href="#id56" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id57">
<h4>8.4 视频截取<a class="headerlink" href="#id57" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="avio">
<h4>8.5 avio 内存数据操作<a class="headerlink" href="#avio" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id58">
<h4>8.6 小结<a class="headerlink" href="#id58" title="永久链接至标题">¶</a></h4>
</div>
</div>
<div class="section" id="ffmpeg-libavcodec">
<h3>第 9 章 FFmpeg 接口 libavcodec 的使用<a class="headerlink" href="#ffmpeg-libavcodec" title="永久链接至标题">¶</a></h3>
<div class="section" id="id59">
<h4>9.1 FFmpeg 旧接口的使用<a class="headerlink" href="#id59" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id60">
<h4>9.1 FFmpeg 新接口的使用<a class="headerlink" href="#id60" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id61">
<h4>9.3 小结<a class="headerlink" href="#id61" title="永久链接至标题">¶</a></h4>
</div>
</div>
<div class="section" id="ffmpeg-libavfilter">
<h3>第 10 章 FFmpeg 接口 libavfilter 的使用<a class="headerlink" href="#ffmpeg-libavfilter" title="永久链接至标题">¶</a></h3>
<div class="section" id="filtergraph-filter">
<h4>10.1 filtergraph 和 filter 简述<a class="headerlink" href="#filtergraph-filter" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id62">
<h4>10.2 FFmpeg 中预留的滤镜<a class="headerlink" href="#id62" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="avfilter">
<h4>10.3 avfilter 流程图<a class="headerlink" href="#avfilter" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="logo">
<h4>10.4 使用滤镜加 LOGO 操作<a class="headerlink" href="#logo" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id63">
<h4>10.5 小结<a class="headerlink" href="#id63" title="永久链接至标题">¶</a></h4>
<p>ffmpeg -i INPUT -vf “split [main][temp]; [temp] crop=iw:ih/2:0:0, vflip [flip]; [main][flip] overlay=0:H/2” OUTPUT
ffmpeg -i MoreShapes.mp4 -vf “split [main][temp]; [temp] crop=iw:ih/2:0:0, vflip [flip]; [main][flip] overlay=0:H/2” MoreShapes_output.mp4</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="MindFusion.html" class="btn btn-neutral float-right" title="MindFusion.Diagramming for WPF, V3.7" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="EMail.html" class="btn btn-neutral float-left" title="Relative Concepts of EMail" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; 版权所有 2021, horizonshd.

    </p>
  </div>
    
    
    
    利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    
    由 <a href="https://readthedocs.org">Read the Docs</a>开发. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>