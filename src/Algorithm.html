

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Algorithm &mdash; Cheatsheet 1.0.0 文档</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Vocabulary" href="Vocabulary.html" />
    <link rel="prev" title="nullsoft scriptable install system 3.0.4" href="NSIS.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Cheatsheet
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="reStructuresText.html">reStructuresText</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmd.html">cmd</a></li>
<li class="toctree-l1"><a class="reference internal" href="WindowsTerminal.html">Windows Terminal</a></li>
<li class="toctree-l1"><a class="reference internal" href="SSH.html">SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx.html">sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="Encoding.html">Charset and Encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="Graphviz.html">Graphviz - Graph Visualization Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">git</a></li>
<li class="toctree-l1"><a class="reference internal" href="CMake.html">CMake</a></li>
<li class="toctree-l1"><a class="reference internal" href="C%2B%2B.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="Math.html">Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="ImageProcessing.html">Image Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="OpenCV.html">OpenCV</a></li>
<li class="toctree-l1"><a class="reference internal" href="OpenGL.html">OpenGL</a></li>
<li class="toctree-l1"><a class="reference internal" href="GameEngine.html">GameEngine</a></li>
<li class="toctree-l1"><a class="reference internal" href="DTD.html">DTD</a></li>
<li class="toctree-l1"><a class="reference internal" href="XSD.html">XSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="WSDL.html">WSDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="dotnet.html">dotnet</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="manim.html">manim</a></li>
<li class="toctree-l1"><a class="reference internal" href="NSIS.html">nullsoft scriptable install system 3.0.4</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Algorithm</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">基础</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">排序</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">冒泡排序</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">选择排序</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">插入排序</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">快速排序</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">堆排序</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">归并排序</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">希尔排序</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">计数排序</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">桶排序</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">基数排序</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id13">查找</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14">顺序查找</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">二分查找</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">插值查找</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">二叉树查找</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id18">拓展</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id19">Graph coloring</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id20">Knight’s tour</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id21">Minimax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">Rat maze</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id23">Hamming distance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id24">进阶</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id25">Wave Function Collapse - 波函数坍缩</a></li>
<li class="toctree-l3"><a class="reference internal" href="#merkle-tree">Merkle Tree - 默克尔树</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Vocabulary.html">Vocabulary</a></li>
<li class="toctree-l1"><a class="reference internal" href="Lua.html">Lua</a></li>
<li class="toctree-l1"><a class="reference internal" href="LaTeX.html">LaTeX</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ubuntu.html">Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="MEF.html">MEF in .NET Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="EMail.html">Relative Concepts of EMail</a></li>
<li class="toctree-l1"><a class="reference internal" href="FFmpeg.html">FFmpeg Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="VisualStudioCode.html">Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="OpenSourceProjects.html">Open Source Projects</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Cheatsheet</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Algorithm</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/src/Algorithm.rst.txt" rel="nofollow"> 查看页面源码</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="algorithm">
<h1>Algorithm<a class="headerlink" href="#algorithm" title="永久链接至标题">¶</a></h1>
<div class="section" id="id1">
<h2>基础<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h2>
<div class="section" id="id2">
<h3>排序<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h3>
<div class="section" id="id3">
<h4>冒泡排序<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<blockquote>
<div><p>冒泡排序是在给定序列中将无序区间的数据通过不断交换将目标（无序区间的最小
或最大）数据移至有序区间。</p>
</div></blockquote>
<p>特点：</p>
<blockquote>
<div><ul class="simple">
<li><p>{无序区，有序区}</p></li>
</ul>
</div></blockquote>
<p>思路：</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>在给定序列 <em>Sn</em> 中，从第一个元素开始两两比较（最大或最小）交换数据，
最后一个元素变成有序的（最大或最小）；</p></li>
<li><p>再对无序的子序列 <em>Sn-1</em> 进行步骤 1 操作，直至全部数据都为有序的。</p></li>
</ol>
</div></blockquote>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-text">BubbleSort.cpp</span><a class="headerlink" href="#id26" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="kt">void</span><span class="w"> </span><span class="n">Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[])</span><span class="w"></span>
<span class="linenos"> 5</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;;</span><span class="w"></span>
<span class="linenos">12</span><span class="p">}</span><span class="w"></span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">15</span><span class="kt">void</span><span class="w"> </span><span class="n">swap</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">aIndex</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bIndex</span><span class="p">)</span><span class="w"></span>
<span class="linenos">16</span><span class="p">{</span><span class="w"></span>
<span class="linenos">17</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">18</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">19</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="p">}</span><span class="w"></span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">23</span><span class="kt">int</span><span class="w"> </span><span class="n">BubbleSort</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[])</span><span class="w"></span>
<span class="linenos">24</span><span class="p">{</span><span class="w"></span>
<span class="linenos">25</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">26</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">27</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">28</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">29</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">30</span><span class="w">            </span><span class="n">count</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="linenos">31</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">])</span><span class="w"></span>
<span class="linenos">32</span><span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="linenos">33</span><span class="w">                </span><span class="n">swap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="linenos">34</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos">35</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">36</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">37</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w"></span>
<span class="linenos">38</span><span class="p">}</span><span class="w"></span>
<span class="linenos">39</span>
<span class="linenos">40</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">41</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">42</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BubbleSort</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">43</span>
<span class="linenos">44</span><span class="w">    </span><span class="n">Print</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">45</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Compare &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; times.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">46</span>
<span class="linenos">47</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">48</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
<p>可以做如下优化，当左侧区间已经有序时不再进行无效的遍历：</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 2</span><span class="kt">int</span><span class="w"> </span><span class="n">BubbleSort</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[])</span><span class="w"></span>
<span class="linenos"> 3</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 4</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="hll"><span class="linenos"> 5</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ordered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
</span><span class="hll"><span class="linenos"> 6</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">ordered</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
</span><span class="linenos"> 7</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="hll"><span class="linenos"> 8</span><span class="w">        </span><span class="n">ordered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
</span><span class="linenos"> 9</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">10</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">11</span><span class="w">            </span><span class="n">count</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="linenos">12</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">])</span><span class="w"></span>
<span class="linenos">13</span><span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="hll"><span class="linenos">14</span><span class="w">                </span><span class="n">ordered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
</span><span class="linenos">15</span><span class="w">                </span><span class="n">swap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="linenos">16</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos">17</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">18</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">19</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id4">
<h4>选择排序<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<blockquote>
<div><p>选择排序是在给定序列中将无序区间的数据中选择最小（或最大）放到有序区，直
到数据全部有序。</p>
</div></blockquote>
<p>特点：</p>
<blockquote>
<div><ul class="simple">
<li><p>{有序区，无序区}</p></li>
<li><p>比较多，交换少</p></li>
</ul>
</div></blockquote>
<p>思路：</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>在给定序列 <em>Sn</em> 中，选择最小（或最大）的数据放到有序区末尾；</p></li>
<li><p>再对无序的子序列 <em>Sn-1</em> 进行步骤 1 操作，直至全部数据都为有序的。</p></li>
</ol>
</div></blockquote>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-text">SelectionSort.cpp</span><a class="headerlink" href="#id27" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="kt">void</span><span class="w"> </span><span class="n">Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[])</span><span class="w"></span>
<span class="linenos"> 5</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;;</span><span class="w"></span>
<span class="linenos">12</span><span class="p">}</span><span class="w"></span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">15</span><span class="kt">void</span><span class="w"> </span><span class="n">swap</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">aIndex</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bIndex</span><span class="p">)</span><span class="w"></span>
<span class="linenos">16</span><span class="p">{</span><span class="w"></span>
<span class="linenos">17</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">18</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">19</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="p">}</span><span class="w"></span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">23</span><span class="kt">int</span><span class="w"> </span><span class="n">SelectionSort</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[])</span><span class="w"></span>
<span class="linenos">24</span><span class="p">{</span><span class="w"></span>
<span class="linenos">25</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">26</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">27</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">28</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">minIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"></span>
<span class="linenos">29</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">30</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">31</span><span class="w">            </span><span class="n">count</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="linenos">32</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">minIndex</span><span class="p">])</span><span class="w"></span>
<span class="linenos">33</span><span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="linenos">34</span><span class="w">                </span><span class="n">minIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span><span class="w"></span>
<span class="linenos">35</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos">36</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">37</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">minIndex</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos">38</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">39</span><span class="w">            </span><span class="n">swap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">minIndex</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w"></span>
<span class="linenos">40</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">41</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">42</span>
<span class="linenos">43</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w"></span>
<span class="linenos">44</span><span class="p">}</span><span class="w"></span>
<span class="linenos">45</span>
<span class="linenos">46</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">47</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">48</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SelectionSort</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">49</span>
<span class="linenos">50</span><span class="w">    </span><span class="n">Print</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">51</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Compare &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; times.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">52</span>
<span class="linenos">53</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">54</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="id5">
<h4>插入排序<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<blockquote>
<div><p>插入排序是在给定序列中将无序区间的第一个数据插入到有序区的合适位置，直到
全部数据有序。</p>
</div></blockquote>
<p>特点：</p>
<blockquote>
<div><ul class="simple">
<li><p>{有序区，无序区}</p></li>
<li><p>比较多，交换少</p></li>
</ul>
</div></blockquote>
<p>思路：</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>在给定序列 <em>Sn</em> 中，选择最小（或最大）的数据放到有序区的合适位置；</p></li>
<li><p>再对无序的子序列 <em>Sn-1</em> 进行步骤 1 操作，直至全部数据都为有序的。</p></li>
</ol>
</div></blockquote>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-text">InsertSort.cpp</span><a class="headerlink" href="#id28" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="kt">void</span><span class="w"> </span><span class="n">Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[])</span><span class="w"></span>
<span class="linenos"> 5</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;;</span><span class="w"></span>
<span class="linenos">12</span><span class="p">}</span><span class="w"></span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">15</span><span class="kt">void</span><span class="w"> </span><span class="n">swap</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">aIndex</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bIndex</span><span class="p">)</span><span class="w"></span>
<span class="linenos">16</span><span class="p">{</span><span class="w"></span>
<span class="linenos">17</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">18</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">19</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="p">}</span><span class="w"></span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">23</span><span class="kt">int</span><span class="w"> </span><span class="n">InsertSort</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[])</span><span class="w"></span>
<span class="linenos">24</span><span class="p">{</span><span class="w"></span>
<span class="linenos">25</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">28</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">29</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">--</span><span class="p">)</span><span class="w"></span>
<span class="linenos">30</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">31</span><span class="w">            </span><span class="n">count</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="linenos">32</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="w"></span>
<span class="linenos">33</span><span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="linenos">34</span><span class="w">                </span><span class="n">swap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">);</span><span class="w"></span>
<span class="linenos">35</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos">36</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">37</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">38</span>
<span class="linenos">39</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w"></span>
<span class="linenos">40</span><span class="p">}</span><span class="w"></span>
<span class="linenos">41</span>
<span class="linenos">42</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">43</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">44</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">InsertSort</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">45</span>
<span class="linenos">46</span><span class="w">    </span><span class="n">Print</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">47</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Compare &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; times.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">48</span>
<span class="linenos">49</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">50</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="id6">
<h4>快速排序<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<blockquote>
<div><p>快速排序是在给定的序列中随机选择一个基数，然后将该序列中小于(或小于等于)
这个基数的数据放到该基数的左测，将大于等于（或大于）这个基数的数据放到该
基数的右侧，然后再分别对左右两侧的数据做同样的操作，直至待排序区间的数据
只有一个为止。</p>
</div></blockquote>
<p>特点：</p>
<blockquote>
<div><ul class="simple">
<li><p>{小数，基数，大数}</p></li>
</ul>
</div></blockquote>
<p>思路：</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>在给定序列  <em>s</em> 中将第一个数作为本次处理的基数 <em>n</em> ；</p></li>
<li><p>将 <em>s</em> 中小于 <em>n</em> 的数据放到该基数的左侧 <em>sl</em> ，将大于等于 <em>n</em> 的
数据放到该基数的右侧 <em>sr</em> ；</p></li>
<li><p>分别对 <em>sl</em> 和 <em>sr</em> 两个子序列的数据进行步骤 1 2 的操作，直至某次序
列中的数据只有一个为止。</p></li>
</ol>
</div></blockquote>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-text">QuickSort.cpp</span><a class="headerlink" href="#id29" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="kt">void</span><span class="w"> </span><span class="n">Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[])</span><span class="w"></span>
<span class="linenos"> 5</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;;</span><span class="w"></span>
<span class="linenos">12</span><span class="p">}</span><span class="w"></span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">15</span><span class="kt">void</span><span class="w"> </span><span class="n">swap</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">aIndex</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bIndex</span><span class="p">)</span><span class="w"></span>
<span class="linenos">16</span><span class="p">{</span><span class="w"></span>
<span class="linenos">17</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">18</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">19</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="p">}</span><span class="w"></span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="w"> </span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">23</span><span class="kt">int</span><span class="w"> </span><span class="n">QuickSort</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">startIndex</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">endIndex</span><span class="p">)</span><span class="w"></span>
<span class="linenos">24</span><span class="p">{</span><span class="w"></span>
<span class="linenos">25</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">26</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">startIndex</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">endIndex</span><span class="p">)</span><span class="w"></span>
<span class="linenos">27</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">28</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">baseIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">startIndex</span><span class="p">;</span><span class="w"></span>
<span class="linenos">29</span><span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">baseValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">startIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">startIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">endIndex</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">32</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">33</span><span class="w">            </span><span class="n">count</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="linenos">34</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">baseValue</span><span class="p">)</span><span class="w"></span>
<span class="linenos">35</span><span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="linenos">36</span><span class="w">                </span><span class="c1">// 将 [baseIndex, i) 的数据右移一个索引</span>
<span class="linenos">37</span><span class="w">                </span><span class="c1">// 将移动前的 array[i] 移到 baseIndex</span>
<span class="linenos">38</span><span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">baseIndex</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">--</span><span class="p">)</span><span class="w"></span>
<span class="linenos">39</span><span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="linenos">40</span><span class="w">                    </span><span class="n">swap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="linenos">41</span><span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="linenos">42</span><span class="w">                </span><span class="n">baseIndex</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="linenos">43</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos">44</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">45</span>
<span class="linenos">46</span><span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">QuickSort</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">startIndex</span><span class="p">,</span><span class="w"> </span><span class="n">baseIndex</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="linenos">47</span><span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">QuickSort</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">baseIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">endIndex</span><span class="p">);</span><span class="w"></span>
<span class="linenos">48</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">49</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w"></span>
<span class="linenos">50</span><span class="p">}</span><span class="w"></span>
<span class="linenos">51</span>
<span class="linenos">52</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">53</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">54</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">QuickSort</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w"></span>
<span class="linenos">55</span>
<span class="linenos">56</span><span class="w">    </span><span class="n">Print</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">57</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Compare &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; times.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">58</span>
<span class="linenos">59</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">60</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="id7">
<h4>堆排序<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<blockquote>
<div><p>堆排序是把给定序列的数据以二叉树的形式来处理，存储在数组中，每个节点 <cite>i</cite>
的子节点为 <cite>2i+1</cite> 和 <cite>2i+2</cite> ， 父节点为 <cite>(i-1)/2</cite> 。</p>
<p>如果整棵二叉树中每个父节点的值都大于其（一个或两个）子节点的值，则是 <code class="docutils literal notranslate"><span class="pre">最大堆</span></code> ；
如果每个父节点的值都小于其（一个或两个）子节点的值，则是 <code class="docutils literal notranslate"><span class="pre">最小堆</span></code> 。</p>
<p>排序过程则是先将给定序列的数据处理成最大堆（或最小堆），将堆顶元素（值最大或最小）
与最后一个无序的节点交换，有序区得到扩大。然后再对无序区中的序列做最大堆
处理，交换堆顶元素和无序区最后一个元素。不断迭代，直至所有数据均有序。</p>
</div></blockquote>
<p>特点：</p>
<p>思路：</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>从最后一个父子节点开始做最大堆处理，一直到对第一个父子节点完成最大堆
的处理，此时整个序列中的数据已经成为最大堆的状态；</p></li>
<li><p>交换堆顶元素和最后一个元素，交换后最后一个元素成为有序状态；</p></li>
<li><p>对第一个父子节点和无序区中的其他数据做最大堆调整；</p></li>
<li><p>重复步骤 2 和 3，直至无序区元素的数量只有一个为止。</p></li>
</ol>
</div></blockquote>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-text">HeapSort.cpp</span><a class="headerlink" href="#id30" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="kt">void</span><span class="w"> </span><span class="n">Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[])</span><span class="w"></span>
<span class="linenos"> 5</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">12</span><span class="p">}</span><span class="w"></span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">15</span><span class="kt">void</span><span class="w"> </span><span class="n">swap</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">aIndex</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bIndex</span><span class="p">)</span><span class="w"></span>
<span class="linenos">16</span><span class="p">{</span><span class="w"></span>
<span class="linenos">17</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">18</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">19</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="p">}</span><span class="w"></span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">23</span><span class="kt">void</span><span class="w"> </span><span class="n">MaxHeapify</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">end</span><span class="p">)</span><span class="w"></span>
<span class="linenos">24</span><span class="p">{</span><span class="w"></span>
<span class="linenos">25</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">dad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">start</span><span class="p">;</span><span class="w"></span>
<span class="linenos">26</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">son</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dad</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">27</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">son</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">end</span><span class="p">)</span><span class="w"></span>
<span class="linenos">28</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">29</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">son</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">son</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">son</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">])</span><span class="w"></span>
<span class="linenos">30</span><span class="w">            </span><span class="o">++</span><span class="n">son</span><span class="p">;</span><span class="w"></span>
<span class="linenos">31</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">dad</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">son</span><span class="p">])</span><span class="w"></span>
<span class="linenos">32</span><span class="w">            </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="linenos">33</span><span class="w">        </span><span class="k">else</span><span class="w"></span>
<span class="linenos">34</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">35</span><span class="w">            </span><span class="n">swap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">dad</span><span class="p">,</span><span class="w"> </span><span class="n">son</span><span class="p">);</span><span class="w"></span>
<span class="linenos">36</span><span class="w">            </span><span class="n">dad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">son</span><span class="p">;</span><span class="w"></span>
<span class="linenos">37</span><span class="w">            </span><span class="n">son</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">son</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">38</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">39</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">40</span><span class="p">}</span><span class="w"></span>
<span class="linenos">41</span>
<span class="linenos">42</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">43</span><span class="kt">void</span><span class="w"> </span><span class="n">HeapSort</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"></span>
<span class="linenos">44</span><span class="p">{</span><span class="w"></span>
<span class="linenos">45</span><span class="w">    </span><span class="c1">// ******************</span>
<span class="linenos">46</span><span class="w">    </span><span class="c1">//</span>
<span class="linenos">47</span><span class="w">    </span><span class="c1">// 建立最大堆</span>
<span class="linenos">48</span><span class="w">    </span><span class="c1">//</span>
<span class="linenos">49</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="o">--</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos">50</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">51</span><span class="w">        </span><span class="n">MaxHeapify</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="linenos">52</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">53</span>
<span class="linenos">54</span><span class="w">    </span><span class="c1">// ******************</span>
<span class="linenos">55</span><span class="w">    </span><span class="c1">//</span>
<span class="linenos">56</span><span class="w">    </span><span class="c1">// 堆排序（最大堆调整）</span>
<span class="linenos">57</span><span class="w">    </span><span class="c1">//</span>
<span class="linenos">58</span><span class="w">    </span><span class="n">swap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">59</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="o">--</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos">60</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">61</span><span class="w">        </span><span class="n">MaxHeapify</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w"></span>
<span class="linenos">62</span><span class="w">        </span><span class="n">swap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">63</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">64</span><span class="p">}</span><span class="w"></span>
<span class="linenos">65</span>
<span class="linenos">66</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">67</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">68</span>
<span class="linenos">69</span><span class="w">    </span><span class="n">HeapSort</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span><span class="w"></span>
<span class="linenos">70</span><span class="w">    </span><span class="n">Print</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">71</span>
<span class="linenos">72</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">73</span><span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="id8">
<h4>归并排序<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<blockquote>
<div><p>归并排序是将给定序列分成两部分，以递归的方式分别将两部分数据排好序，然后
从这两部分数据的头部逐一比较将其放至最终的输出数据中。</p>
</div></blockquote>
<p>特点：</p>
<blockquote>
<div><ul class="simple">
<li><p>需要额外的空间存储过程中的已排序数据</p></li>
</ul>
</div></blockquote>
<p>思路：</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>将给定序列  <em>s</em> 分成两段 <em>sl</em> 和 <em>sr</em> ；</p></li>
<li><p>将子序列 <em>sl</em> 和 <em>sr</em> 按步骤 1 递归操作，直至子序列中只有一个数据
（默认为已排序）；</p></li>
<li><p>对通过递归操作已排好序的两部分子序列 <em>sl</em> 和 <em>sr</em> 进行合并。</p></li>
</ol>
</div></blockquote>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-text">MergeSort.cpp</span><a class="headerlink" href="#id31" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="kt">void</span><span class="w"> </span><span class="n">Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[])</span><span class="w"></span>
<span class="linenos"> 5</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">12</span><span class="p">}</span><span class="w"></span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">15</span><span class="kt">void</span><span class="w"> </span><span class="n">swap</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">aIndex</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bIndex</span><span class="p">)</span><span class="w"></span>
<span class="linenos">16</span><span class="p">{</span><span class="w"></span>
<span class="linenos">17</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">18</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">19</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="p">}</span><span class="w"></span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="w"> </span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">23</span><span class="kt">int</span><span class="w"> </span><span class="n">MergeSort</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">end</span><span class="p">)</span><span class="w"></span>
<span class="linenos">24</span><span class="p">{</span><span class="w"></span>
<span class="linenos">25</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">start</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">end</span><span class="p">)</span><span class="w"></span>
<span class="linenos">28</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="hll"><span class="linenos">29</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="p">;</span><span class="w"></span>
</span><span class="linenos">30</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">mid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">len</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">start</span><span class="p">;</span><span class="w"></span>
<span class="linenos">31</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">start1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">start</span><span class="p">;</span><span class="w"></span>
<span class="linenos">32</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">end1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mid</span><span class="p">;</span><span class="w"></span>
<span class="linenos">33</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">start2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mid</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">34</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">end2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">end</span><span class="p">;</span><span class="w"></span>
<span class="linenos">35</span><span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">MergeSort</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">start1</span><span class="p">,</span><span class="w"> </span><span class="n">end1</span><span class="p">);</span><span class="w"></span>
<span class="linenos">36</span><span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">MergeSort</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">start2</span><span class="p">,</span><span class="w"> </span><span class="n">end2</span><span class="p">);</span><span class="w"></span>
<span class="linenos">37</span>
<span class="hll"><span class="linenos">38</span><span class="w">        </span><span class="n">T</span><span class="o">*</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">T</span><span class="p">[</span><span class="n">len</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span><span class="w"></span>
</span><span class="linenos">39</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">40</span>
<span class="linenos">41</span><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">start1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">end1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">start2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">end2</span><span class="p">)</span><span class="w"></span>
<span class="linenos">42</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">43</span><span class="w">            </span><span class="n">count</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="linenos">44</span><span class="w">            </span><span class="n">temp</span><span class="p">[</span><span class="n">p</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">start1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">start2</span><span class="p">]</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">start1</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">start2</span><span class="o">++</span><span class="p">];</span><span class="w"></span>
<span class="linenos">45</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">46</span>
<span class="linenos">47</span><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">start1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">end1</span><span class="p">)</span><span class="w"></span>
<span class="linenos">48</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">49</span><span class="w">            </span><span class="n">count</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="linenos">50</span><span class="w">            </span><span class="n">temp</span><span class="p">[</span><span class="n">p</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">start1</span><span class="o">++</span><span class="p">];</span><span class="w"></span>
<span class="linenos">51</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">52</span>
<span class="linenos">53</span><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">start2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">end2</span><span class="p">)</span><span class="w"></span>
<span class="linenos">54</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">55</span><span class="w">            </span><span class="n">count</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="linenos">56</span><span class="w">            </span><span class="n">temp</span><span class="p">[</span><span class="n">p</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">start2</span><span class="o">++</span><span class="p">];</span><span class="w"></span>
<span class="linenos">57</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">58</span>
<span class="hll"><span class="linenos">59</span><span class="w">        </span><span class="n">memcpy</span><span class="p">(</span><span class="n">array</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">len</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">T</span><span class="p">));</span><span class="w"></span>
</span><span class="linenos">60</span><span class="w">        </span><span class="k">delete</span><span class="p">[]</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"></span>
<span class="linenos">61</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">62</span>
<span class="linenos">63</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w"></span>
<span class="linenos">64</span><span class="p">}</span><span class="w"></span>
<span class="linenos">65</span>
<span class="linenos">66</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">67</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">68</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MergeSort</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w"></span>
<span class="linenos">69</span>
<span class="linenos">70</span><span class="w">    </span><span class="n">Print</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">71</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Compare &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; times.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">72</span>
<span class="linenos">73</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">74</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="id9">
<h4>希尔排序<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<blockquote>
<div><p>希尔排序主要是通过将给定序列中的数据按照一定的步进 <cite>step</cite> 进行分组再单独
对每个组内的元素进行排序（通常使用 <a class="reference internal" href="#id5"><span class="std std-ref">插入排序</span></a> ），
使每个组内的元素各自有序；再通过不断减小 <cite>step</cite> 继续对重新分组后的组内元
素进行排序使其组内的元素有序；最终当 <cite>step</cite> 等于 <cite>1</cite> 时，整个序列中的数
据将成为一个组，对其中的元素排序后将使整个序列中的元素达到有序的状态。</p>
</div></blockquote>
<p>特点：</p>
<p>思路：</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>设置初始步进 <cite>int step = N /2</cite> ，其中 <cite>N</cite> 为给定序列元素的数量；</p></li>
<li><p>将序列中间隔为 <cite>step</cite> 的元素进行排序，通常使用 <a class="reference internal" href="#id5"><span class="std std-ref">插入排序</span></a> ；</p></li>
<li><p>调整 <cite>step = step /2</cite> ，重复步骤 2 ；</p></li>
<li><p>当 <cite>step</cite> 的值为 <cite>1</cite> 时，再进行一次排序操作后所有数据均成为有序的。</p></li>
</ol>
</div></blockquote>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-text">ShellSort.cpp</span><a class="headerlink" href="#id32" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="kt">void</span><span class="w"> </span><span class="n">Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[])</span><span class="w"></span>
<span class="linenos"> 5</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">12</span><span class="p">}</span><span class="w"></span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">15</span><span class="kt">void</span><span class="w"> </span><span class="n">swap</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">aIndex</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bIndex</span><span class="p">)</span><span class="w"></span>
<span class="linenos">16</span><span class="p">{</span><span class="w"></span>
<span class="linenos">17</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">18</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">19</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="p">}</span><span class="w"></span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">23</span><span class="kt">int</span><span class="w"> </span><span class="n">ShellSort</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[])</span><span class="w"></span>
<span class="linenos">24</span><span class="p">{</span><span class="w"></span>
<span class="linenos">25</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">26</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">step</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"></span>
<span class="linenos">27</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">step</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="linenos">28</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">29</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">step</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">30</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">31</span><span class="w">            </span><span class="o">++</span><span class="n">count</span><span class="p">;</span><span class="w"></span>
<span class="linenos">32</span><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"></span>
<span class="linenos">33</span>
<span class="linenos">34</span><span class="w">            </span><span class="c1">// 每个分组内部进行插入排序</span>
<span class="linenos">35</span><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">step</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">step</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="w"></span>
<span class="linenos">36</span><span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="linenos">37</span><span class="w">                </span><span class="n">swap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">step</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">);</span><span class="w"></span>
<span class="linenos">38</span><span class="w">                </span><span class="n">j</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">step</span><span class="p">;</span><span class="w"></span>
<span class="linenos">39</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos">40</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">41</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">42</span>
<span class="linenos">43</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w"></span>
<span class="linenos">44</span><span class="p">}</span><span class="w"></span>
<span class="linenos">45</span>
<span class="linenos">46</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">47</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">48</span>
<span class="linenos">49</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ShellSort</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">50</span><span class="w">    </span><span class="n">Print</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">51</span>
<span class="linenos">52</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Compare &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; times.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">53</span>
<span class="linenos">54</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">55</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="id10">
<h4>计数排序<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<blockquote>
<div><p>计数排序主要是通过统计给定数据（ int 型 ）中每一个数字出现的次数，然后再
根据这个统计信息按照一定方式将这些数据变成有序状态。</p>
</div></blockquote>
<p>特点：</p>
<blockquote>
<div><ul class="simple">
<li><p>需要额外的空间开销存储辅助数据</p></li>
<li><p>出于算法的原因只能对 int 型的数据进行排序</p></li>
</ul>
</div></blockquote>
<p>思路：</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>找出待排序的数组中最大（ <cite>maxValue</cite> ）和最小（ <cite>minValue</cite> ）的元素；</p></li>
<li><p>统计数组中每个值为 <cite>value</cite> 的元素出现的次数，存入数组 <cite>countArray</cite>
的第 <cite>value - minValue</cite> 项；</p></li>
<li><p>对所有的计数累加（从 <cite>countArray</cite> 中的第一个元素开始，每一项和前一项相加）；</p></li>
<li><p>反向填充目标数组 <cite>sorted</cite> 中，稍微有些复杂。</p></li>
</ol>
</div></blockquote>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-text">CountSort.cpp</span><a class="headerlink" href="#id33" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="kt">void</span><span class="w"> </span><span class="n">Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[])</span><span class="w"></span>
<span class="linenos"> 5</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">12</span><span class="p">}</span><span class="w"></span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="k">template</span><span class="o">&lt;</span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">15</span><span class="kt">void</span><span class="w"> </span><span class="n">CountSort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">array</span><span class="p">[])</span><span class="w"></span>
<span class="linenos">16</span><span class="p">{</span><span class="w"></span>
<span class="linenos">17</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">minValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w"></span>
<span class="linenos">18</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">maxValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w"></span>
<span class="linenos">19</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos">20</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">21</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">minValue</span><span class="p">)</span><span class="w"></span>
<span class="linenos">22</span><span class="w">            </span><span class="n">minValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"></span>
<span class="linenos">23</span><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">maxValue</span><span class="p">)</span><span class="w"></span>
<span class="linenos">24</span><span class="w">            </span><span class="n">maxValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"></span>
<span class="linenos">25</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="w">    </span><span class="c1">// *****************</span>
<span class="linenos">28</span><span class="w">    </span><span class="c1">// 1. 对数据进行统计</span>
<span class="linenos">29</span><span class="w">    </span><span class="c1">//</span>
<span class="linenos">30</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">tempSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxValue</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">minValue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">31</span><span class="w">    </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">countArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">[</span><span class="n">tempSize</span><span class="p">]();</span><span class="w"></span>
<span class="linenos">32</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos">33</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">34</span><span class="w">        </span><span class="n">countArray</span><span class="p">[</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">minValue</span><span class="p">]</span><span class="w"> </span><span class="o">++</span><span class="p">;</span><span class="w"> </span><span class="c1">// 这里就要求 array 数组必须是 int 型时索引 array[i] - minValue 才是合法的</span>
<span class="linenos">35</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">36</span>
<span class="linenos">37</span><span class="w">    </span><span class="c1">// *****************</span>
<span class="linenos">38</span><span class="w">    </span><span class="c1">// 2. 对数据排序</span>
<span class="linenos">39</span><span class="w">    </span><span class="c1">//</span>
<span class="linenos">40</span><span class="w">    </span><span class="c1">//// 方式一</span>
<span class="linenos">41</span><span class="w">    </span><span class="c1">//int index = 0;</span>
<span class="linenos">42</span><span class="w">    </span><span class="c1">//for (int i = 0; i &lt; tempSize; ++i)</span>
<span class="linenos">43</span><span class="w">    </span><span class="c1">//{</span>
<span class="linenos">44</span><span class="w">    </span><span class="c1">//    while (countArray[i]--)</span>
<span class="linenos">45</span><span class="w">    </span><span class="c1">//    {</span>
<span class="linenos">46</span><span class="w">    </span><span class="c1">//        array[index++] = i + minValue;</span>
<span class="linenos">47</span><span class="w">    </span><span class="c1">//    }</span>
<span class="linenos">48</span><span class="w">    </span><span class="c1">//}</span>
<span class="linenos">49</span>
<span class="linenos">50</span><span class="w">    </span><span class="c1">// 方式二</span>
<span class="linenos">51</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">tempSize</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos">52</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">53</span><span class="w">        </span><span class="n">countArray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">countArray</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span><span class="w"> </span><span class="c1">// 使 countArray[i] 记录待排序数组中第 i 大（0 based）的元素在最终已排序数组中的开始索引</span>
<span class="linenos">54</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">55</span><span class="w">    </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">sorted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">[</span><span class="n">N</span><span class="p">]();</span><span class="w"></span>
<span class="linenos">56</span>
<span class="linenos">57</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="o">--</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos">58</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">59</span><span class="w">        </span><span class="c1">// 通过数据的至计算出其在待输出有序数组中的索引</span>
<span class="linenos">60</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">targetValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span><span class="w"></span>
<span class="linenos">61</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">targetIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">minValue</span><span class="p">;</span><span class="w"></span>
<span class="linenos">62</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">finalIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">--</span><span class="n">countArray</span><span class="p">[</span><span class="n">targetIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">63</span>
<span class="linenos">64</span><span class="w">        </span><span class="n">sorted</span><span class="p">[</span><span class="n">finalIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">targetValue</span><span class="p">;</span><span class="w"></span>
<span class="linenos">65</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">66</span><span class="w">    </span><span class="n">memcpy</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">sorted</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span><span class="w"></span>
<span class="linenos">67</span>
<span class="linenos">68</span><span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="n">countArray</span><span class="p">;</span><span class="w"></span>
<span class="linenos">69</span><span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="n">sorted</span><span class="p">;</span><span class="w"></span>
<span class="linenos">70</span><span class="p">}</span><span class="w"></span>
<span class="linenos">71</span>
<span class="linenos">72</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">73</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">74</span><span class="w">    </span><span class="n">CountSort</span><span class="o">&lt;</span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">75</span><span class="w">    </span><span class="n">Print</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">76</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">77</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="id11">
<h4>桶排序<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<blockquote>
<div><p>桶排序将给定序列的数据 <cite>Sn</cite> 按照一定的规则分散到 <cite>BUCKET_NUM</cite> 个桶中，
数据需要按照 <em>一定的顺序</em> 入桶，全部数据入桶后再将数据从桶中倒出（两两一
起）排序。</p>
</div></blockquote>
<p>特点：</p>
<p>思路：</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>可以使用 <cite>std::vector</cite> 来实现桶的逻辑；</p></li>
<li><p>将给定序列中的数据按照一定规则（比如可以将序列中元素的索引值对桶的数
量取模确定元素放到哪个桶中）分散到各个桶中，入桶时就可以做排序；</p></li>
<li><p>再将每两个桶中的数据取出并排序，直至所有桶中的数据取完即可。</p></li>
</ol>
</div></blockquote>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-text">BucketSort.cpp</span><a class="headerlink" href="#id34" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos">  2</span><span class="cp">#include</span><span class="cpf">&lt;vector&gt;</span><span class="cp"></span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">  5</span><span class="kt">void</span><span class="w"> </span><span class="n">Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[])</span><span class="w"></span>
<span class="linenos">  6</span><span class="p">{</span><span class="w"></span>
<span class="linenos">  7</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">  8</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">  9</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 10</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 11</span>
<span class="linenos"> 12</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 13</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 16</span><span class="kt">void</span><span class="w"> </span><span class="n">swap</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">aIndex</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bIndex</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 17</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 18</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos"> 19</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">aIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos"> 20</span><span class="w">    </span><span class="n">array</span><span class="p">[</span><span class="n">bIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 21</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 22</span>
<span class="linenos"> 23</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 24</span><span class="k">struct</span> <span class="nc">ListNode</span><span class="w"></span>
<span class="linenos"> 25</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 26</span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 27</span><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 28</span><span class="w">    </span><span class="n">ListNode</span><span class="o">*</span><span class="w"> </span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 29</span><span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">ListNode</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="n">data</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">next</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="linenos"> 30</span><span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">ListNode</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="n">data</span><span class="p">(</span><span class="n">data</span><span class="p">),</span><span class="w"> </span><span class="n">next</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="linenos"> 31</span><span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">ListNode</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">next</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="n">data</span><span class="p">(</span><span class="n">data</span><span class="p">),</span><span class="w"> </span><span class="n">next</span><span class="p">(</span><span class="n">next</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="linenos"> 32</span><span class="p">};</span><span class="w"></span>
<span class="linenos"> 33</span>
<span class="linenos"> 34</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 35</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">listNodes</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 36</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 37</span><span class="w">    </span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dummyNode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">listNodes</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 38</span>
<span class="linenos"> 39</span><span class="w">    </span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">prePtr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dummyNode</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 40</span><span class="w">    </span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">curPtr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listNodes</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 41</span>
<span class="linenos"> 42</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">curPtr</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">nullptr</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">curPtr</span><span class="o">-&gt;</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 43</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 44</span><span class="w">        </span><span class="n">prePtr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">curPtr</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 45</span><span class="w">        </span><span class="n">curPtr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">curPtr</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 46</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 47</span><span class="w">    </span><span class="n">prePtr</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">curPtr</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 48</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">dummyNode</span><span class="p">.</span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 49</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span><span class="c1">/// &lt;summary&gt;</span>
<span class="linenos"> 52</span><span class="c1">/// 要求两个链表均已排好序</span>
<span class="linenos"> 53</span><span class="c1">/// &lt;/summary&gt;</span>
<span class="linenos"> 54</span><span class="c1">/// &lt;typeparam name=&quot;T&quot;&gt;&lt;/typeparam&gt;</span>
<span class="linenos"> 55</span><span class="c1">/// &lt;param name=&quot;listA&quot;&gt;&lt;/param&gt;</span>
<span class="linenos"> 56</span><span class="c1">/// &lt;param name=&quot;listB&quot;&gt;&lt;/param&gt;</span>
<span class="linenos"> 57</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 58</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">Merge</span><span class="p">(</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">listA</span><span class="p">,</span><span class="w"> </span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">listB</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 59</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 60</span><span class="w">    </span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dummyNode</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 61</span><span class="w">    </span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">dummyNodePtr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dummyNode</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 62</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">listA</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">nullptr</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">listB</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 63</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 64</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">listA</span><span class="o">-&gt;</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">listB</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 65</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 66</span><span class="w">            </span><span class="n">dummyNodePtr</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listA</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 67</span><span class="w">            </span><span class="n">listA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listA</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 68</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 69</span><span class="w">        </span><span class="k">else</span><span class="w"></span>
<span class="linenos"> 70</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 71</span><span class="w">            </span><span class="n">dummyNodePtr</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listB</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 72</span><span class="w">            </span><span class="n">listB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listB</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 73</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 74</span><span class="w">        </span><span class="n">dummyNodePtr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dummyNodePtr</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 75</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 76</span>
<span class="linenos"> 77</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">listA</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 78</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 79</span><span class="w">        </span><span class="n">dummyNodePtr</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listA</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 80</span><span class="w">        </span><span class="n">listA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listA</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 81</span><span class="w">        </span><span class="n">dummyNodePtr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dummyNodePtr</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 82</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 83</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">listB</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 84</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 85</span><span class="w">        </span><span class="n">dummyNodePtr</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listB</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 86</span><span class="w">        </span><span class="n">listB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listB</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 87</span><span class="w">        </span><span class="n">dummyNodePtr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dummyNodePtr</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 88</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 89</span>
<span class="linenos"> 90</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">dummyNode</span><span class="p">.</span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 91</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 92</span>
<span class="linenos"> 93</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 94</span><span class="kt">void</span><span class="w"> </span><span class="n">BucketSort</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">array</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bucketNum</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 95</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 96</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*&gt;</span><span class="w"> </span><span class="n">buckets</span><span class="p">(</span><span class="n">bucketNum</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 97</span>
<span class="linenos"> 98</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 99</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">100</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">bucketNum</span><span class="p">;</span><span class="w"></span>
<span class="linenos">101</span><span class="w">        </span><span class="n">buckets</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Insert</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">buckets</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="n">index</span><span class="p">),</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span><span class="w"></span>
<span class="linenos">102</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">103</span>
<span class="linenos">104</span><span class="w">    </span><span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">buckets</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">105</span>
<span class="linenos">106</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">bucketNum</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos">107</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">108</span><span class="w">        </span><span class="n">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Merge</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">head</span><span class="p">,</span><span class="w"> </span><span class="n">buckets</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="n">i</span><span class="p">));</span><span class="w"></span>
<span class="linenos">109</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">110</span>
<span class="linenos">111</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">112</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">113</span><span class="w">        </span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">head</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span><span class="w"></span>
<span class="linenos">114</span><span class="w">        </span><span class="n">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="linenos">115</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">116</span><span class="p">}</span><span class="w"></span>
<span class="linenos">117</span>
<span class="linenos">118</span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">BUCKET_NUM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">   </span><span class="c1">// 可以根据待排序数据的数量进行一定的优化</span>
<span class="linenos">119</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">120</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">121</span>
<span class="linenos">122</span><span class="w">    </span><span class="n">BucketSort</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">BUCKET_NUM</span><span class="p">);</span><span class="w"></span>
<span class="linenos">123</span><span class="w">    </span><span class="n">Print</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">124</span>
<span class="linenos">125</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">126</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="id12">
<h4>基数排序<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<blockquote>
<div><p>基数排序将给定序列中的数据按照每一位上的数字进行逐一比较（个位、十位…），
基数排序的方式可以采用 LSD（Least significant digital）或 MSD（Most
significant digital）。LSD 的排序方式由键值的最右边开始，而MSD则相反，
由键值的最左边开始。</p>
</div></blockquote>
<p>特点：</p>
<blockquote>
<div><ul class="simple">
<li><p>需要与待排序数据一样大的空间来存储过程中的部分排序后的数组。</p></li>
<li><p>需要额外的空间存储统计信息，通常只需进制位的大小即可（比如 10 * sizeof(int) ）。</p></li>
<li><p>只能对 int 类型的数据进行排序。</p></li>
</ul>
</div></blockquote>
<p>思路：</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>遍历给定序列 <cite>Sn</cite> 中的数据获取最大值 <cite>max</cite> 并计算 <cite>max</cite> 中的位数 <cite>bits</cite>
（比如 <cite>22</cite> -&gt; 2位，<cite>456</cite> -&gt; 3位）；</p></li>
<li><p>对 <cite>Sn</cite> 中的数据以 LSD 或 MSD 的方式进行 <cite>bits</cite> 次排序。</p></li>
</ol>
</div></blockquote>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id35">
<div class="code-block-caption"><span class="caption-text">RadixSortLSD.cpp</span><a class="headerlink" href="#id35" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="kt">void</span><span class="w"> </span><span class="n">Print</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[])</span><span class="w"></span>
<span class="linenos"> 5</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">12</span><span class="p">}</span><span class="w"></span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ConterSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="c1">// 进制</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="kt">int</span><span class="w"> </span><span class="nf">MaxValue</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"></span>
<span class="linenos">17</span><span class="p">{</span><span class="w"></span>
<span class="linenos">18</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w"></span>
<span class="linenos">19</span>
<span class="linenos">20</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos">21</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">22</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">max</span><span class="p">)</span><span class="w"></span>
<span class="linenos">23</span><span class="w">            </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"></span>
<span class="linenos">24</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">max</span><span class="p">;</span><span class="w"></span>
<span class="linenos">27</span><span class="p">}</span><span class="w"></span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="kt">int</span><span class="w"> </span><span class="nf">MaxBit</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"></span>
<span class="linenos">30</span><span class="p">{</span><span class="w"></span>
<span class="linenos">31</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MaxValue</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">);</span><span class="w"></span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">34</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">ConterSize</span><span class="p">)</span><span class="w"></span>
<span class="linenos">35</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">36</span><span class="w">        </span><span class="o">++</span><span class="n">ret</span><span class="p">;</span><span class="w"></span>
<span class="linenos">37</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">38</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span><span class="w"></span>
<span class="linenos">39</span><span class="p">}</span><span class="w"></span>
<span class="linenos">40</span>
<span class="linenos">41</span><span class="kt">void</span><span class="w"> </span><span class="nf">RadixSortLSD</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"></span>
<span class="linenos">42</span><span class="p">{</span><span class="w"></span>
<span class="linenos">43</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MaxBit</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">);</span><span class="w"></span>
<span class="linenos">44</span>
<span class="linenos">45</span><span class="w">    </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">sortedArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">[</span><span class="n">n</span><span class="p">]();</span><span class="w">                        </span><span class="c1">// 用于存储根据某一进制位排序后的原始数据</span>
<span class="linenos">46</span><span class="w">    </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">counterArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">[</span><span class="n">ConterSize</span><span class="p">]();</span><span class="w">              </span><span class="c1">// 用于存储根据某一进制位排序后的统计信息</span>
<span class="linenos">47</span>
<span class="linenos">48</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">radix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">                                          </span><span class="c1">// 表示个位、十位...</span>
<span class="linenos">49</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">bits</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w">                          </span><span class="c1">// 从低（右侧）到高位（左侧）遍历排序</span>
<span class="linenos">50</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">51</span><span class="w">        </span><span class="n">memset</span><span class="p">(</span><span class="n">counterArray</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">ConterSize</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span><span class="w"></span>
<span class="linenos">52</span>
<span class="linenos">53</span><span class="w">        </span><span class="c1">// *************************</span>
<span class="linenos">54</span><span class="w">        </span><span class="c1">//</span>
<span class="linenos">55</span><span class="w">        </span><span class="c1">// 遍历待排序数据 data 获取统计信息</span>
<span class="linenos">56</span><span class="w">        </span><span class="c1">//</span>
<span class="linenos">57</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="w"></span>
<span class="linenos">58</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">59</span><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">radix</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">ConterSize</span><span class="p">;</span><span class="w">       </span><span class="c1">// 计算 data[j] 在 radix 对应的进制位上的数字</span>
<span class="linenos">60</span><span class="w">            </span><span class="o">++</span><span class="n">counterArray</span><span class="p">[</span><span class="n">index</span><span class="p">];</span><span class="w"></span>
<span class="linenos">61</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">62</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">ConterSize</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">63</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">64</span><span class="w">            </span><span class="n">counterArray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">counterArray</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span><span class="w"></span>
<span class="linenos">65</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">66</span>
<span class="linenos">67</span><span class="w">        </span><span class="c1">// *************************</span>
<span class="linenos">68</span><span class="w">        </span><span class="c1">//</span>
<span class="linenos">69</span><span class="w">        </span><span class="c1">// 遍历待排序数据 data 结合统计信息</span>
<span class="linenos">70</span><span class="w">        </span><span class="c1">// 获得本次排序后的数据放到 sortedArray 中</span>
<span class="linenos">71</span><span class="w">        </span><span class="c1">//</span>
<span class="linenos">72</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="o">--</span><span class="n">j</span><span class="p">)</span><span class="w"></span>
<span class="linenos">73</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">74</span><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">targetValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">j</span><span class="p">];</span><span class="w"></span>
<span class="linenos">75</span><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">counterIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">targetValue</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">radix</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">ConterSize</span><span class="p">;</span><span class="w"></span>
<span class="linenos">76</span><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">targetIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">--</span><span class="n">counterArray</span><span class="p">[</span><span class="n">counterIndex</span><span class="p">];</span><span class="w"></span>
<span class="linenos">77</span>
<span class="linenos">78</span><span class="w">            </span><span class="n">sortedArray</span><span class="p">[</span><span class="n">targetIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">targetValue</span><span class="p">;</span><span class="w"></span>
<span class="linenos">79</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">80</span>
<span class="linenos">81</span><span class="w">        </span><span class="n">memcpy</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">sortedArray</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span><span class="w"></span>
<span class="linenos">82</span><span class="w">        </span><span class="n">radix</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="n">ConterSize</span><span class="p">;</span><span class="w"></span>
<span class="linenos">83</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">84</span>
<span class="linenos">85</span><span class="w">    </span><span class="k">delete</span><span class="p">[]</span><span class="w"> </span><span class="n">sortedArray</span><span class="p">;</span><span class="w"></span>
<span class="linenos">86</span><span class="w">    </span><span class="k">delete</span><span class="p">[]</span><span class="w"> </span><span class="n">counterArray</span><span class="p">;</span><span class="w"></span>
<span class="linenos">87</span><span class="p">}</span><span class="w"></span>
<span class="linenos">88</span>
<span class="linenos">89</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">90</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">91</span>
<span class="linenos">92</span><span class="w">    </span><span class="n">RadixSortLSD</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
<span class="linenos">93</span><span class="w">    </span><span class="n">Print</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos">94</span>
<span class="linenos">95</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">96</span><span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="id13">
<h3>查找<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h3>
<div class="section" id="id14">
<h4>顺序查找<a class="headerlink" href="#id14" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<p>特点：</p>
<p>思路：</p>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id36">
<div class="code-block-caption"><span class="caption-text">SequentialSearch.cpp</span><a class="headerlink" href="#id36" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="kt">int</span><span class="w"> </span><span class="n">SequentialSearch</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[],</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">target</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 5</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">target</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"></span>
<span class="linenos">10</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">11</span><span class="w">    </span><span class="k">return</span><span class="w">  </span><span class="mi">-1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">12</span><span class="p">}</span><span class="w"></span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"></span>
<span class="linenos">15</span><span class="p">{</span><span class="w"></span>
<span class="linenos">16</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">17</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SequentialSearch</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="p">.</span><span class="n">get</span><span class="p">();</span><span class="w"></span>
<span class="linenos">21</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="id15">
<h4>二分查找<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<p>特点：</p>
<blockquote>
<div><ul class="simple">
<li><p>要求给出的数据序列是有序的</p></li>
</ul>
</div></blockquote>
<p>思路：</p>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id37">
<div class="code-block-caption"><span class="caption-text">BinarySearch.cpp</span><a class="headerlink" href="#id37" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="kt">int</span><span class="w"> </span><span class="n">BinarySearch</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[],</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">targetValue</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 5</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">lowIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">highIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">lowIndex</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">highIndex</span><span class="p">)</span><span class="w"></span>
<span class="linenos">10</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">11</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">midIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">lowIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">highIndex</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">midIndex</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">targetValue</span><span class="p">)</span><span class="w"></span>
<span class="linenos">14</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">15</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">midIndex</span><span class="p">;</span><span class="w"></span>
<span class="linenos">16</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">17</span><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">midIndex</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">targetValue</span><span class="p">)</span><span class="w"></span>
<span class="linenos">18</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">19</span><span class="w">            </span><span class="n">highIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">midIndex</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">21</span><span class="w">        </span><span class="k">else</span><span class="w"></span>
<span class="linenos">22</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">23</span><span class="w">            </span><span class="n">lowIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">midIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">24</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">25</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">26</span><span class="w">    </span><span class="k">return</span><span class="w">  </span><span class="mi">-1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">27</span><span class="p">}</span><span class="w"></span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"></span>
<span class="linenos">30</span><span class="p">{</span><span class="w"></span>
<span class="linenos">31</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">32</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BinarySearch</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w"></span>
<span class="linenos">33</span>
<span class="linenos">34</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="linenos">35</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="p">.</span><span class="n">get</span><span class="p">();</span><span class="w"></span>
<span class="linenos">36</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="id16">
<h4>插值查找<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<p>特点：</p>
<blockquote>
<div><ul class="simple">
<li><p>要求给出的数据序列是有序的</p></li>
<li><p>序列中数据的分布是均匀的</p></li>
<li><p>是 <a class="reference internal" href="#id15"><span class="std std-ref">二分查找</span></a> 的扩展</p></li>
</ul>
</div></blockquote>
<p>思路：</p>
<blockquote>
<div><p>1.  整体思路和 <a class="reference internal" href="#id15"><span class="std std-ref">二分查找</span></a> 一样，只是每次计算中间索引
<cite>midIndex</cite> 的时候不再是使用 <cite>(lowIndex + highIndex) / 2</cite> 这样的方式来
计算，而是根据目标值的特点来计算。</p>
</div></blockquote>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id38">
<div class="code-block-caption"><span class="caption-text">InterpolationSearch.cpp</span><a class="headerlink" href="#id38" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="kt">int</span><span class="w"> </span><span class="n">InterpolationSearch</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">[],</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">targetValue</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 5</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">lowIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">highIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">lowIndex</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">highIndex</span><span class="p">)</span><span class="w"></span>
<span class="linenos">10</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="hll"><span class="linenos">11</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">midIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lowIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kt">int</span><span class="p">((</span><span class="n">targetValue</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">lowIndex</span><span class="p">])</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1.0f</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">highIndex</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">lowIndex</span><span class="p">])</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">highIndex</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">lowIndex</span><span class="p">));</span><span class="w"></span>
</span><span class="linenos">12</span>
<span class="hll"><span class="linenos">13</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">midIndex</span><span class="o">&lt;</span><span class="n">lowIndex</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">midIndex</span><span class="o">&gt;</span><span class="w"> </span><span class="n">highIndex</span><span class="p">)</span><span class="w"></span>
</span><span class="hll"><span class="linenos">14</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
</span><span class="hll"><span class="linenos">15</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"></span>
</span><span class="hll"><span class="linenos">16</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
</span><span class="linenos">17</span>
<span class="linenos">18</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">midIndex</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">targetValue</span><span class="p">)</span><span class="w"></span>
<span class="linenos">19</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">20</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">midIndex</span><span class="p">;</span><span class="w"></span>
<span class="linenos">21</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">22</span><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">midIndex</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">targetValue</span><span class="p">)</span><span class="w"></span>
<span class="linenos">23</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">24</span><span class="w">            </span><span class="n">highIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">midIndex</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">25</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">26</span><span class="w">        </span><span class="k">else</span><span class="w"></span>
<span class="linenos">27</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">28</span><span class="w">            </span><span class="n">lowIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">midIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">29</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">30</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">31</span><span class="w">    </span><span class="k">return</span><span class="w">  </span><span class="mi">-1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">32</span><span class="p">}</span><span class="w"></span>
<span class="linenos">33</span>
<span class="linenos">34</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"></span>
<span class="linenos">35</span><span class="p">{</span><span class="w"></span>
<span class="linenos">36</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">37</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">InterpolationSearch</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w"></span>
<span class="linenos">38</span>
<span class="linenos">39</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="linenos">40</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="p">.</span><span class="n">get</span><span class="p">();</span><span class="w"></span>
<span class="linenos">41</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="id17">
<h4>二叉树查找<a class="headerlink" href="#id17" title="永久链接至标题">¶</a></h4>
<p>说明：</p>
<p>特点：</p>
<p>思路：</p>
<p>实现：</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id39">
<div class="code-block-caption"><span class="caption-text">BinaryTreeSearch.cpp</span><a class="headerlink" href="#id39" title="永久链接至代码">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos">  2</span>
<span class="linenos">  3</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"></span>
<span class="linenos">  4</span><span class="p">{</span><span class="w"></span>
<span class="linenos">  5</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Allocating &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; bytes!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">  6</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="n">size</span><span class="p">);</span><span class="w"></span>
<span class="linenos">  7</span><span class="p">}</span><span class="w"></span>
<span class="linenos">  8</span>
<span class="linenos">  9</span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="k">delete</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">object</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 10</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 11</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Freeing &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; bytes!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 12</span><span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">object</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 13</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="k">struct</span> <span class="nc">BinaryTreeNode</span><span class="w"></span>
<span class="linenos"> 16</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 17</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Data</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 18</span><span class="w">    </span><span class="n">BinaryTreeNode</span><span class="o">*</span><span class="w"> </span><span class="n">LChild</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 19</span><span class="w">    </span><span class="n">BinaryTreeNode</span><span class="o">*</span><span class="w"> </span><span class="n">RChild</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 20</span>
<span class="linenos"> 21</span><span class="w">    </span><span class="n">BinaryTreeNode</span><span class="p">()</span><span class="w"></span>
<span class="linenos"> 22</span><span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="n">Data</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">LChild</span><span class="p">(</span><span class="k">nullptr</span><span class="p">),</span><span class="w"> </span><span class="n">RChild</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 23</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 24</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span><span class="w">    </span><span class="n">BinaryTreeNode</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 27</span><span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="n">Data</span><span class="p">(</span><span class="n">data</span><span class="p">),</span><span class="w"> </span><span class="n">LChild</span><span class="p">(</span><span class="k">nullptr</span><span class="p">),</span><span class="w"> </span><span class="n">RChild</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 28</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 29</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 30</span><span class="p">};</span><span class="w"></span>
<span class="linenos"> 31</span>
<span class="linenos"> 32</span><span class="kt">void</span><span class="w"> </span><span class="nf">InsertNode</span><span class="p">(</span><span class="n">BinaryTreeNode</span><span class="o">**</span><span class="w"> </span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 33</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 34</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">root</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 35</span><span class="w">        </span><span class="k">return</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 36</span>
<span class="linenos"> 37</span><span class="w">    </span><span class="n">BinaryTreeNode</span><span class="o">**</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 38</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ptr</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 39</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 40</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">((</span><span class="o">*</span><span class="n">ptr</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">Data</span><span class="p">))</span><span class="w"></span>
<span class="linenos"> 41</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 42</span><span class="w">            </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="p">((</span><span class="o">*</span><span class="n">ptr</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">RChild</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 43</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 44</span><span class="w">        </span><span class="k">else</span><span class="w"></span>
<span class="linenos"> 45</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 46</span><span class="w">            </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="p">((</span><span class="o">*</span><span class="n">ptr</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">LChild</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 47</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 48</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 49</span><span class="w">    </span><span class="o">*</span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BinaryTreeNode</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 50</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 51</span>
<span class="linenos"> 52</span><span class="n">BinaryTreeNode</span><span class="o">*</span><span class="w"> </span><span class="nf">CreateBinatyTree</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 53</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 54</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 55</span><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 56</span>
<span class="linenos"> 57</span><span class="w">    </span><span class="n">BinaryTreeNode</span><span class="o">*</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BinaryTreeNode</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="w"></span>
<span class="linenos"> 58</span>
<span class="linenos"> 59</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 60</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 61</span><span class="w">        </span><span class="n">InsertNode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span><span class="w"></span>
<span class="linenos"> 62</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 63</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">root</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 64</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 65</span><span class="kt">void</span><span class="w"> </span><span class="nf">FreeBinaryTree</span><span class="p">(</span><span class="n">BinaryTreeNode</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 66</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 67</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 68</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 69</span><span class="w">        </span><span class="n">FreeBinaryTree</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">LChild</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 70</span><span class="w">        </span><span class="n">FreeBinaryTree</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">RChild</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 71</span><span class="w">        </span><span class="k">delete</span><span class="w"> </span><span class="n">node</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 72</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 73</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 74</span>
<span class="linenos"> 75</span><span class="kt">bool</span><span class="w"> </span><span class="nf">BinaryTreeSearch</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">targetValue</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 76</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 77</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 78</span>
<span class="linenos"> 79</span><span class="w">    </span><span class="n">BinaryTreeNode</span><span class="o">*</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CreateBinatyTree</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 80</span><span class="w">    </span><span class="n">BinaryTreeNode</span><span class="o">*</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 81</span>
<span class="linenos"> 82</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 83</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 84</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ptr</span><span class="o">-&gt;</span><span class="n">Data</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">targetValue</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 85</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 86</span><span class="w">            </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 87</span><span class="w">            </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 88</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 89</span><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ptr</span><span class="o">-&gt;</span><span class="n">Data</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">targetValue</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 90</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 91</span><span class="w">            </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ptr</span><span class="o">-&gt;</span><span class="n">LChild</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 92</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 93</span><span class="w">        </span><span class="k">else</span><span class="w"></span>
<span class="linenos"> 94</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 95</span><span class="w">            </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ptr</span><span class="o">-&gt;</span><span class="n">RChild</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 96</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 97</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 98</span><span class="w">    </span><span class="n">FreeBinaryTree</span><span class="p">(</span><span class="n">root</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 99</span>
<span class="linenos">100</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span><span class="w"></span>
<span class="linenos">101</span><span class="p">}</span><span class="w"></span>
<span class="linenos">102</span>
<span class="linenos">103</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"></span>
<span class="linenos">104</span><span class="p">{</span><span class="w"></span>
<span class="linenos">105</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">106</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BinaryTreeSearch</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">),</span><span class="w"> </span><span class="mi">7</span><span class="p">);</span><span class="w"></span>
<span class="linenos">107</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">found</span><span class="p">)</span><span class="w"></span>
<span class="linenos">108</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">109</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Found!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">110</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">111</span><span class="w">    </span><span class="k">else</span><span class="w"></span>
<span class="linenos">112</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">113</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Not found!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">114</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">115</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">116</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="id18">
<h3>拓展<a class="headerlink" href="#id18" title="永久链接至标题">¶</a></h3>
<div class="section" id="id19">
<h4><a class="reference external" href="https://github.com/TheAlgorithms/C-Plus-Plus/blob/master/backtracking/graph_coloring.cpp">Graph coloring</a><a class="headerlink" href="#id19" title="永久链接至标题">¶</a></h4>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/**</span>
<span class="linenos">  2</span><span class="cm"> * @file</span>
<span class="linenos">  3</span><span class="cm"> * @brief prints the assigned colors</span>
<span class="linenos">  4</span><span class="cm"> * using [Graph Coloring](https://en.wikipedia.org/wiki/Graph_coloring) algorithm</span>
<span class="linenos">  5</span><span class="cm"> *</span>
<span class="linenos">  6</span><span class="cm"> * @details</span>
<span class="linenos">  7</span><span class="cm"> * In graph theory, graph coloring is a special case of graph labeling;</span>
<span class="linenos">  8</span><span class="cm"> * it is an assignment of labels traditionally called &quot;colors&quot; to elements of a graph subject to certain constraints.</span>
<span class="linenos">  9</span><span class="cm"> * In its simplest form, it is a way of coloring the vertices of a graph such that no two adjacent vertices are of the same color;</span>
<span class="linenos"> 10</span><span class="cm"> * this is called a vertex coloring. Similarly, an edge coloring assigns</span>
<span class="linenos"> 11</span><span class="cm"> * a color to each edge so that no two adjacent edges are of the same color,</span>
<span class="linenos"> 12</span><span class="cm"> * and a face coloring of a planar graph assigns a color to each face or</span>
<span class="linenos"> 13</span><span class="cm"> * region so that no two faces that share a boundary have the same color.</span>
<span class="linenos"> 14</span><span class="cm"> *</span>
<span class="linenos"> 15</span><span class="cm"> * @author [Anup Kumar Panwar](https://github.com/AnupKumarPanwar)</span>
<span class="linenos"> 16</span><span class="cm"> * @author [David Leal](https://github.com/Panquesito7)</span>
<span class="linenos"> 17</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos"> 18</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 19</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;array&gt;</span><span class="cp"></span>
<span class="linenos"> 20</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;vector&gt;</span><span class="cp"></span>
<span class="linenos"> 21</span>
<span class="linenos"> 22</span><span class="w"> </span><span class="cm">/**</span>
<span class="linenos"> 23</span><span class="cm">  * @namespace</span>
<span class="linenos"> 24</span><span class="cm">  * @brief Backtracking algorithms</span>
<span class="linenos"> 25</span><span class="cm">  */</span><span class="w"></span>
<span class="linenos"> 26</span><span class="k">namespace</span><span class="w"> </span><span class="nn">backtracking</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 27</span><span class="w">    </span><span class="cm">/** A utility function to print solution</span>
<span class="linenos"> 28</span><span class="cm">     * @tparam V number of vertices in the graph</span>
<span class="linenos"> 29</span><span class="cm">     * @param color array of colors assigned to the nodes</span>
<span class="linenos"> 30</span><span class="cm">     */</span><span class="w"></span>
<span class="linenos"> 31</span><span class="w">    </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">size_t</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 32</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">printSolution</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">color</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 33</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Following are the assigned colors</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 34</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="nl">col</span> <span class="p">:</span><span class="w"> </span><span class="n">color</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 35</span><span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">col</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 36</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 37</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 38</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 39</span>
<span class="linenos"> 40</span><span class="w">    </span><span class="cm">/** A utility function to check if the current color assignment is safe for</span>
<span class="linenos"> 41</span><span class="cm">     * vertex v</span>
<span class="linenos"> 42</span><span class="cm">     * @tparam V number of vertices in the graph</span>
<span class="linenos"> 43</span><span class="cm">     * @param v index of graph vertex to check</span>
<span class="linenos"> 44</span><span class="cm">     * @param graph matrix of graph nonnectivity</span>
<span class="linenos"> 45</span><span class="cm">     * @param color vector of colors assigned to the graph nodes/vertices</span>
<span class="linenos"> 46</span><span class="cm">     * @param c color value to check for the node `v`</span>
<span class="linenos"> 47</span><span class="cm">     * @returns `true` if the color is safe to be assigned to the node</span>
<span class="linenos"> 48</span><span class="cm">     * @returns `false` if the color is not safe to be assigned to the node</span>
<span class="linenos"> 49</span><span class="cm">     */</span><span class="w"></span>
<span class="linenos"> 50</span><span class="w">    </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">size_t</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 51</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">isSafe</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">color</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 52</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">V</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 53</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">graph</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">color</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 54</span><span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 55</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 56</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 57</span><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 58</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 59</span>
<span class="linenos"> 60</span><span class="w">    </span><span class="cm">/** A recursive utility function to solve m coloring problem</span>
<span class="linenos"> 61</span><span class="cm">     * @tparam V number of vertices in the graph</span>
<span class="linenos"> 62</span><span class="cm">     * @param graph matrix of graph nonnectivity</span>
<span class="linenos"> 63</span><span class="cm">     * @param m number of colors</span>
<span class="linenos"> 64</span><span class="cm">     * @param [in,out] color description // used in,out to notify in documentation</span>
<span class="linenos"> 65</span><span class="cm">     * that this parameter gets modified by the function</span>
<span class="linenos"> 66</span><span class="cm">     * @param v index of graph vertex to check</span>
<span class="linenos"> 67</span><span class="cm">     */</span><span class="w"></span>
<span class="linenos"> 68</span><span class="w">    </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">size_t</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 69</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">graphColoring</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">color</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 70</span><span class="w">        </span><span class="c1">// base case:</span>
<span class="linenos"> 71</span><span class="w">        </span><span class="c1">// If all vertices are assigned a color then return true</span>
<span class="linenos"> 72</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">V</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 73</span><span class="w">            </span><span class="n">backtracking</span><span class="o">::</span><span class="n">printSolution</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span><span class="p">(</span><span class="n">color</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 74</span><span class="w">            </span><span class="k">return</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 75</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 76</span>
<span class="linenos"> 77</span><span class="w">        </span><span class="c1">// Consider this vertex v and try different colors</span>
<span class="linenos"> 78</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">m</span><span class="p">;</span><span class="w"> </span><span class="n">c</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 79</span><span class="w">            </span><span class="c1">// Check if assignment of color c to v is fine</span>
<span class="linenos"> 80</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">backtracking</span><span class="o">::</span><span class="n">isSafe</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 81</span><span class="w">                </span><span class="n">color</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 82</span>
<span class="linenos"> 83</span><span class="w">                </span><span class="c1">// recur to assign colors to rest of the vertices</span>
<span class="linenos"> 84</span><span class="w">                </span><span class="n">backtracking</span><span class="o">::</span><span class="n">graphColoring</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 85</span>
<span class="linenos"> 86</span><span class="w">                </span><span class="c1">// If assigning color c doesn&#39;t lead to a solution then remove it</span>
<span class="linenos"> 87</span><span class="w">                </span><span class="n">color</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 88</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 89</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 90</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 91</span><span class="p">}</span><span class="w">  </span><span class="c1">// namespace backtracking</span>
<span class="linenos"> 92</span>
<span class="linenos"> 93</span><span class="cm">/**</span>
<span class="linenos"> 94</span><span class="cm"> * Main function</span>
<span class="linenos"> 95</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos"> 96</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 97</span><span class="w">    </span><span class="c1">// Create following graph and test whether it is 3 colorable</span>
<span class="linenos"> 98</span><span class="w">    </span><span class="c1">// (3)---(2)</span>
<span class="linenos"> 99</span><span class="w">    </span><span class="c1">// |   / |</span>
<span class="linenos">100</span><span class="w">    </span><span class="c1">// |  /  |</span>
<span class="linenos">101</span><span class="w">    </span><span class="c1">// | /   |</span>
<span class="linenos">102</span><span class="w">    </span><span class="c1">// (0)---(1)</span>
<span class="linenos">103</span>
<span class="linenos">104</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">V</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w">  </span><span class="c1">// number of vertices in the graph</span>
<span class="linenos">105</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">graph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">106</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="p">({</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">}),</span><span class="w"></span>
<span class="linenos">107</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">}),</span><span class="w"></span>
<span class="linenos">108</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">}),</span><span class="w"></span>
<span class="linenos">109</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">})</span><span class="w"></span>
<span class="linenos">110</span><span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="linenos">111</span>
<span class="linenos">112</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w">  </span><span class="c1">// Number of colors</span>
<span class="linenos">113</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">color</span><span class="p">{};</span><span class="w"></span>
<span class="linenos">114</span>
<span class="linenos">115</span><span class="w">    </span><span class="n">backtracking</span><span class="o">::</span><span class="n">graphColoring</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">116</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="p">.</span><span class="n">get</span><span class="p">();</span><span class="w"></span>
<span class="linenos">117</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">118</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Following</span> <span class="n">are</span> <span class="n">the</span> <span class="n">assigned</span> <span class="n">colors</span>
<span class="mi">1232</span>
<span class="n">Following</span> <span class="n">are</span> <span class="n">the</span> <span class="n">assigned</span> <span class="n">colors</span>
<span class="mi">1323</span>
<span class="n">Following</span> <span class="n">are</span> <span class="n">the</span> <span class="n">assigned</span> <span class="n">colors</span>
<span class="mi">2131</span>
<span class="n">Following</span> <span class="n">are</span> <span class="n">the</span> <span class="n">assigned</span> <span class="n">colors</span>
<span class="mi">2313</span>
<span class="n">Following</span> <span class="n">are</span> <span class="n">the</span> <span class="n">assigned</span> <span class="n">colors</span>
<span class="mi">3121</span>
<span class="n">Following</span> <span class="n">are</span> <span class="n">the</span> <span class="n">assigned</span> <span class="n">colors</span>
<span class="mi">3212</span>
</pre></div>
</div>
</div>
<div class="section" id="id20">
<h4><a class="reference external" href="https://github.com/TheAlgorithms/C-Plus-Plus/blob/master/backtracking/knight_tour.cpp">Knight’s tour</a><a class="headerlink" href="#id20" title="永久链接至标题">¶</a></h4>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/**</span>
<span class="linenos">  2</span><span class="cm"> * @file</span>
<span class="linenos">  3</span><span class="cm"> * @brief [Knight&#39;s tour](https://en.wikipedia.org/wiki/Knight%27s_tour) algorithm</span>
<span class="linenos">  4</span><span class="cm"> *</span>
<span class="linenos">  5</span><span class="cm"> * @details</span>
<span class="linenos">  6</span><span class="cm"> * A knight&#39;s tour is a sequence of moves of a knight on a chessboard</span>
<span class="linenos">  7</span><span class="cm"> * such that the knight visits every square only once. If the knight</span>
<span class="linenos">  8</span><span class="cm"> * ends on a square that is one knight&#39;s move from the beginning</span>
<span class="linenos">  9</span><span class="cm"> * square (so that it could tour the board again immediately, following</span>
<span class="linenos"> 10</span><span class="cm"> * the same path, the tour is closed; otherwise, it is open.</span>
<span class="linenos"> 11</span><span class="cm"> *</span>
<span class="linenos"> 12</span><span class="cm"> * @author [Nikhil Arora](https://github.com/nikhilarora068)</span>
<span class="linenos"> 13</span><span class="cm"> * @author [David Leal](https://github.com/Panquesito7)</span>
<span class="linenos"> 14</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos"> 15</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 16</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;array&gt;</span><span class="cp"></span>
<span class="hll"><span class="linenos"> 17</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iomanip&gt;</span><span class="cp"></span>
</span><span class="linenos"> 18</span>
<span class="linenos"> 19</span><span class="w"> </span><span class="cm">/**</span>
<span class="linenos"> 20</span><span class="cm">  * @namespace backtracking</span>
<span class="linenos"> 21</span><span class="cm">  * @brief Backtracking algorithms</span>
<span class="linenos"> 22</span><span class="cm">  */</span><span class="w"></span>
<span class="linenos"> 23</span><span class="k">namespace</span><span class="w"> </span><span class="nn">backtracking</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 24</span><span class="w">    </span><span class="cm">/**</span>
<span class="linenos"> 25</span><span class="cm">     * A utility function to check if i,j are valid indexes for N*N chessboard</span>
<span class="linenos"> 26</span><span class="cm">     * @tparam V number of vertices in array</span>
<span class="linenos"> 27</span><span class="cm">     * @param x current index in rows</span>
<span class="linenos"> 28</span><span class="cm">     * @param y current index in columns</span>
<span class="linenos"> 29</span><span class="cm">     * @param sol matrix where numbers are saved</span>
<span class="linenos"> 30</span><span class="cm">     * @returns `true` if ....</span>
<span class="linenos"> 31</span><span class="cm">     * @returns `false` if ....</span>
<span class="linenos"> 32</span><span class="cm">     */</span><span class="w"></span>
<span class="linenos"> 33</span><span class="w">    </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">size_t</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 34</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">issafe</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">sol</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 35</span><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">V</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">V</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">sol</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 36</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 37</span>
<span class="linenos"> 38</span><span class="w">    </span><span class="cm">/**</span>
<span class="linenos"> 39</span><span class="cm">     * Knight&#39;s tour algorithm</span>
<span class="linenos"> 40</span><span class="cm">     * @tparam V number of vertices in array</span>
<span class="linenos"> 41</span><span class="cm">     * @param x current index in rows</span>
<span class="linenos"> 42</span><span class="cm">     * @param y current index in columns</span>
<span class="linenos"> 43</span><span class="cm">     * @param mov movement to be done</span>
<span class="linenos"> 44</span><span class="cm">     * @param sol matrix where numbers are saved</span>
<span class="linenos"> 45</span><span class="cm">     * @param xmov next move of knight (x coordinate)</span>
<span class="linenos"> 46</span><span class="cm">     * @param ymov next move of knight (y coordinate)</span>
<span class="linenos"> 47</span><span class="cm">     * @returns `true` if solution exists</span>
<span class="linenos"> 48</span><span class="cm">     * @returns `false` if solution does not exist</span>
<span class="linenos"> 49</span><span class="cm">     */</span><span class="w"></span>
<span class="linenos"> 50</span><span class="w">    </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">size_t</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 51</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">solve</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">mov</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">sol</span><span class="p">,</span><span class="w"></span>
<span class="linenos"> 52</span><span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">xmov</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">ymov</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 53</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">xnext</span><span class="p">,</span><span class="w"> </span><span class="n">ynext</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 54</span>
<span class="linenos"> 55</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mov</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">V</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">V</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 56</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 57</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 58</span>
<span class="linenos"> 59</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">V</span><span class="p">;</span><span class="w"> </span><span class="n">k</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 60</span><span class="w">            </span><span class="n">xnext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">xmov</span><span class="p">[</span><span class="n">k</span><span class="p">];</span><span class="w"></span>
<span class="linenos"> 61</span><span class="w">            </span><span class="n">ynext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ymov</span><span class="p">[</span><span class="n">k</span><span class="p">];</span><span class="w"></span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">backtracking</span><span class="o">::</span><span class="n">issafe</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span><span class="p">(</span><span class="n">xnext</span><span class="p">,</span><span class="w"> </span><span class="n">ynext</span><span class="p">,</span><span class="w"> </span><span class="n">sol</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 64</span><span class="w">                </span><span class="n">sol</span><span class="p">[</span><span class="n">xnext</span><span class="p">][</span><span class="n">ynext</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mov</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 65</span>
<span class="linenos"> 66</span><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">backtracking</span><span class="o">::</span><span class="n">solve</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span><span class="p">(</span><span class="n">xnext</span><span class="p">,</span><span class="w"> </span><span class="n">ynext</span><span class="p">,</span><span class="w"> </span><span class="n">mov</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">sol</span><span class="p">,</span><span class="w"> </span><span class="n">xmov</span><span class="p">,</span><span class="w"> </span><span class="n">ymov</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 67</span><span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 68</span><span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 69</span><span class="w">                </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 70</span><span class="w">                    </span><span class="n">sol</span><span class="p">[</span><span class="n">xnext</span><span class="p">][</span><span class="n">ynext</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 71</span><span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 72</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 73</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 74</span><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 75</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 76</span><span class="p">}</span><span class="w"> </span><span class="c1">// namespace backtracking</span>
<span class="linenos"> 77</span>
<span class="linenos"> 78</span><span class="cm">/**</span>
<span class="linenos"> 79</span><span class="cm"> * Main function</span>
<span class="linenos"> 80</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos"> 81</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 82</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 83</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos"> 84</span>
<span class="linenos"> 85</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 86</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 87</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">sol</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 88</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 89</span>
<span class="linenos"> 90</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">&gt;</span><span class="w"> </span><span class="n">xmov</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">-2</span><span class="p">,</span><span class="w"> </span><span class="mi">-2</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos"> 91</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ymov</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">-2</span><span class="p">,</span><span class="w"> </span><span class="mi">-2</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos"> 92</span>
<span class="linenos"> 93</span><span class="w">    </span><span class="n">sol</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 94</span>
<span class="linenos"> 95</span><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">backtracking</span><span class="o">::</span><span class="n">solve</span><span class="o">&lt;</span><span class="n">n</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">sol</span><span class="p">,</span><span class="w"> </span><span class="n">xmov</span><span class="p">,</span><span class="w"> </span><span class="n">ymov</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 96</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">false</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 97</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Error: Solution does not exist</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 98</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 99</span><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">100</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">101</span><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="hll"><span class="linenos">102</span><span class="w">                </span><span class="c1">//std::cout &lt;&lt; sol[i][j] &lt;&lt; &quot;  &quot;;</span>
</span><span class="hll"><span class="linenos">103</span><span class="w">                </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">.</span><span class="n">flags</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">ios</span><span class="o">::</span><span class="n">left</span><span class="p">);</span><span class="w"></span>
</span><span class="hll"><span class="linenos">104</span><span class="w">                </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">sol</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span><span class="w"></span>
</span><span class="linenos">105</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos">106</span><span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">107</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">108</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">109</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">110</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>   <span class="mi">59</span>  <span class="mi">38</span>  <span class="mi">33</span>  <span class="mi">30</span>  <span class="mi">17</span>  <span class="mi">8</span>   <span class="mi">63</span>
<span class="mi">37</span>  <span class="mi">34</span>  <span class="mi">31</span>  <span class="mi">60</span>  <span class="mi">9</span>   <span class="mi">62</span>  <span class="mi">29</span>  <span class="mi">16</span>
<span class="mi">58</span>  <span class="mi">1</span>   <span class="mi">36</span>  <span class="mi">39</span>  <span class="mi">32</span>  <span class="mi">27</span>  <span class="mi">18</span>  <span class="mi">7</span>
<span class="mi">35</span>  <span class="mi">48</span>  <span class="mi">41</span>  <span class="mi">26</span>  <span class="mi">61</span>  <span class="mi">10</span>  <span class="mi">15</span>  <span class="mi">28</span>
<span class="mi">42</span>  <span class="mi">57</span>  <span class="mi">2</span>   <span class="mi">49</span>  <span class="mi">40</span>  <span class="mi">23</span>  <span class="mi">6</span>   <span class="mi">19</span>
<span class="mi">47</span>  <span class="mi">50</span>  <span class="mi">45</span>  <span class="mi">54</span>  <span class="mi">25</span>  <span class="mi">20</span>  <span class="mi">11</span>  <span class="mi">14</span>
<span class="mi">56</span>  <span class="mi">43</span>  <span class="mi">52</span>  <span class="mi">3</span>   <span class="mi">22</span>  <span class="mi">13</span>  <span class="mi">24</span>  <span class="mi">5</span>
<span class="mi">51</span>  <span class="mi">46</span>  <span class="mi">55</span>  <span class="mi">44</span>  <span class="mi">53</span>  <span class="mi">4</span>   <span class="mi">21</span>  <span class="mi">12</span>
</pre></div>
</div>
</div>
<div class="section" id="id21">
<h4><a class="reference external" href="https://github.com/TheAlgorithms/C-Plus-Plus/blob/master/backtracking/minimax.cpp">Minimax</a><a class="headerlink" href="#id21" title="永久链接至标题">¶</a></h4>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/**</span>
<span class="linenos"> 2</span><span class="cm"> * @file</span>
<span class="linenos"> 3</span><span class="cm"> * @brief returns which is the longest/shortest number</span>
<span class="linenos"> 4</span><span class="cm"> * using [minimax](https://en.wikipedia.org/wiki/Minimax) algorithm</span>
<span class="linenos"> 5</span><span class="cm"> *</span>
<span class="linenos"> 6</span><span class="cm"> * @details</span>
<span class="linenos"> 7</span><span class="cm"> * Minimax (sometimes MinMax, MM or saddle point) is a decision rule used in</span>
<span class="linenos"> 8</span><span class="cm"> * artificial intelligence, decision theory, game theory, statistics,</span>
<span class="linenos"> 9</span><span class="cm"> * and philosophy for minimizing the possible loss for a worst case (maximum loss) scenario.</span>
<span class="linenos">10</span><span class="cm"> * When dealing with gains, it is referred to as &quot;maximin&quot;—to maximize the minimum gain.</span>
<span class="linenos">11</span><span class="cm"> * Originally formulated for two-player zero-sum game theory, covering both the cases where players take</span>
<span class="linenos">12</span><span class="cm"> * alternate moves and those where they make simultaneous moves, it has also been extended to more</span>
<span class="linenos">13</span><span class="cm"> * complex games and to general decision-making in the presence of uncertainty.</span>
<span class="linenos">14</span><span class="cm"> *</span>
<span class="linenos">15</span><span class="cm"> * @author [Gleison Batista](https://github.com/gleisonbs)</span>
<span class="linenos">16</span><span class="cm"> * @author [David Leal](https://github.com/Panquesito7)</span>
<span class="linenos">17</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos">18</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;algorithm&gt;</span><span class="cp"></span>
<span class="linenos">19</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cmath&gt;</span><span class="cp"></span>
<span class="linenos">20</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos">21</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;array&gt;</span><span class="cp"></span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="w"> </span><span class="cm">/**</span>
<span class="linenos">24</span><span class="cm">  * @namespace backtracking</span>
<span class="linenos">25</span><span class="cm">  * @brief Backtracking algorithms</span>
<span class="linenos">26</span><span class="cm">  */</span><span class="w"></span>
<span class="linenos">27</span><span class="k">namespace</span><span class="w"> </span><span class="nn">backtracking</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">28</span><span class="w">    </span><span class="cm">/**</span>
<span class="linenos">29</span><span class="cm">     * Check which number is the maximum/minimum in the array</span>
<span class="linenos">30</span><span class="cm">     * @param depth current depth in game tree</span>
<span class="linenos">31</span><span class="cm">     * @param node_index current index in array</span>
<span class="linenos">32</span><span class="cm">     * @param is_max if current index is the longest number</span>
<span class="linenos">33</span><span class="cm">     * @param scores saved numbers in array</span>
<span class="linenos">34</span><span class="cm">     * @param height maximum height for game tree</span>
<span class="linenos">35</span><span class="cm">     * @return maximum or minimum number</span>
<span class="linenos">36</span><span class="cm">     */</span><span class="w"></span>
<span class="linenos">37</span><span class="w">    </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">size_t</span><span class="w"> </span><span class="n">T</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos">38</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">minimax</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">depth</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">node_index</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">is_max</span><span class="p">,</span><span class="w"></span>
<span class="linenos">39</span><span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">scores</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">40</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">depth</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">height</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">41</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">scores</span><span class="p">[</span><span class="n">node_index</span><span class="p">];</span><span class="w"></span>
<span class="linenos">42</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">43</span>
<span class="linenos">44</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">minimax</span><span class="p">(</span><span class="n">depth</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">node_index</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">!</span><span class="n">is_max</span><span class="p">,</span><span class="w"> </span><span class="n">scores</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">);</span><span class="w"></span>
<span class="linenos">45</span><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">minimax</span><span class="p">(</span><span class="n">depth</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">node_index</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">!</span><span class="n">is_max</span><span class="p">,</span><span class="w"> </span><span class="n">scores</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">);</span><span class="w"></span>
<span class="linenos">46</span>
<span class="linenos">47</span><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">is_max</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="p">);</span><span class="w"></span>
<span class="linenos">48</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">49</span><span class="p">}</span><span class="w"> </span><span class="c1">// namespace backtracking</span>
<span class="linenos">50</span>
<span class="linenos">51</span><span class="cm">/**</span>
<span class="linenos">52</span><span class="cm"> * Main function</span>
<span class="linenos">53</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos">54</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">55</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="o">&gt;</span><span class="w"> </span><span class="n">scores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="mi">34423</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">56</span>
<span class="hll"><span class="linenos">57</span><span class="w">    </span><span class="c1">// max   65 (anser)</span>
</span><span class="hll"><span class="linenos">58</span><span class="w">    </span><span class="c1">// min   33             65</span>
</span><span class="hll"><span class="linenos">59</span><span class="w">    </span><span class="c1">// max   90      33     65      34423</span>
</span><span class="hll"><span class="linenos">60</span><span class="w">    </span><span class="c1">// min   90, 23, 6, 33, 21, 65, 123, 34423</span>
</span><span class="linenos">61</span>
<span class="hll"><span class="linenos">62</span><span class="w">    </span><span class="c1">// min   23 (anser)</span>
</span><span class="hll"><span class="linenos">63</span><span class="w">    </span><span class="c1">// max   23             123</span>
</span><span class="hll"><span class="linenos">64</span><span class="w">    </span><span class="c1">// min   23      6      21      123</span>
</span><span class="hll"><span class="linenos">65</span><span class="w">    </span><span class="c1">// max   90, 23, 6, 33, 21, 65, 123, 34423</span>
</span><span class="linenos">66</span>
<span class="linenos">67</span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">log2</span><span class="p">(</span><span class="n">scores</span><span class="p">.</span><span class="n">size</span><span class="p">());</span><span class="w"></span>
<span class="linenos">68</span>
<span class="linenos">69</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Optimal value: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">backtracking</span><span class="o">::</span><span class="n">minimax</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="n">scores</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="linenos">70</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Optimal value: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">backtracking</span><span class="o">::</span><span class="n">minimax</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="n">scores</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="linenos">71</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">72</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Optimal</span> <span class="n">value</span><span class="p">:</span> <span class="mi">65</span>
<span class="n">Optimal</span> <span class="n">value</span><span class="p">:</span> <span class="mi">23</span>
</pre></div>
</div>
</div>
<div class="section" id="id22">
<h4><a class="reference external" href="https://github.com/TheAlgorithms/C-Plus-Plus/blob/master/backtracking/rat_maze.cpp">Rat maze</a><a class="headerlink" href="#id22" title="永久链接至标题">¶</a></h4>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/**</span>
<span class="linenos">  2</span><span class="cm"> * @file</span>
<span class="linenos">  3</span><span class="cm"> * @brief Implements [Rat in a</span>
<span class="linenos">  4</span><span class="cm"> * Maze](https://www.codesdope.com/blog/article/backtracking-to-</span>
<span class="linenos">  5</span><span class="cm"> * solve-a-rat-in-a-maze-c-java-pytho/) algorithm</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * @details</span>
<span class="linenos">  8</span><span class="cm"> * A Maze is given as N*N binary matrix of blocks where source block is the</span>
<span class="linenos">  9</span><span class="cm"> * upper left most block i.e., maze[0][0] and destination block is lower</span>
<span class="linenos"> 10</span><span class="cm"> * rightmost block i.e., maze[N-1][N-1]. A rat starts from source and has to</span>
<span class="linenos"> 11</span><span class="cm"> * reach destination. The rat can move only in two directions: forward and down.</span>
<span class="linenos"> 12</span><span class="cm"> * In the maze matrix, 0 means the block is dead end and 1 means the block can</span>
<span class="linenos"> 13</span><span class="cm"> * be used in the path from source to destination.</span>
<span class="linenos"> 14</span><span class="cm"> *</span>
<span class="linenos"> 15</span><span class="cm"> * @author [Vaibhav Thakkar](https://github.com/vaithak)</span>
<span class="linenos"> 16</span><span class="cm"> * @author [David Leal](https://github.com/Panquesito7)</span>
<span class="linenos"> 17</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;array&gt;</span><span class="cp"></span>
<span class="linenos"> 20</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos"> 21</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cassert&gt;</span><span class="cp"></span>
<span class="linenos"> 22</span>
<span class="linenos"> 23</span><span class="w"> </span><span class="cm">/**</span>
<span class="linenos"> 24</span><span class="cm">  * @namespace backtracking</span>
<span class="linenos"> 25</span><span class="cm">  * @brief Backtracking algorithms</span>
<span class="linenos"> 26</span><span class="cm">  */</span><span class="w"></span>
<span class="linenos"> 27</span><span class="k">namespace</span><span class="w"> </span><span class="nn">backtracking</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 28</span><span class="w">    </span><span class="cm">/**</span>
<span class="linenos"> 29</span><span class="cm">     * @namespace rat_maze</span>
<span class="linenos"> 30</span><span class="cm">     * @brief Functions for [Rat in a</span>
<span class="linenos"> 31</span><span class="cm">     * Maze](https://www.codesdope.com/blog/article/backtracking-to-</span>
<span class="linenos"> 32</span><span class="cm">     * solve-a-rat-in-a-maze-c-java-pytho/) algorithm</span>
<span class="linenos"> 33</span><span class="cm">     */</span><span class="w"></span>
<span class="linenos"> 34</span><span class="w">    </span><span class="k">namespace</span><span class="w"> </span><span class="nn">rat_maze</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 35</span><span class="w">        </span><span class="cm">/**</span>
<span class="linenos"> 36</span><span class="cm">         * @brief Solve rat maze problem</span>
<span class="linenos"> 37</span><span class="cm">         * @tparam size number of matrix size</span>
<span class="linenos"> 38</span><span class="cm">         * @param currposrow current position in rows</span>
<span class="linenos"> 39</span><span class="cm">         * @param currposcol current position in columns</span>
<span class="linenos"> 40</span><span class="cm">         * @param maze matrix where numbers are saved</span>
<span class="linenos"> 41</span><span class="cm">         * @param soln matrix to problem solution</span>
<span class="linenos"> 42</span><span class="cm">         * @returns 0 on end</span>
<span class="linenos"> 43</span><span class="cm">         */</span><span class="w"></span>
<span class="linenos"> 44</span><span class="w">        </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;</span><span class="w"></span>
<span class="linenos"> 45</span><span class="w">        </span><span class="kt">bool</span><span class="w"> </span><span class="n">solveMaze</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">currposrow</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">currposcol</span><span class="p">,</span><span class="w"></span>
<span class="linenos"> 46</span><span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">maze</span><span class="p">,</span><span class="w"></span>
<span class="linenos"> 47</span><span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;</span><span class="w"> </span><span class="n">soln</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 48</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">currposrow</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">currposcol</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 49</span><span class="w">                </span><span class="n">soln</span><span class="p">[</span><span class="n">currposrow</span><span class="p">][</span><span class="n">currposcol</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 50</span><span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 51</span><span class="w">                    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 52</span><span class="w">                        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">soln</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 53</span><span class="w">                    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 54</span><span class="w">                    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 55</span><span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 56</span><span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 57</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 58</span><span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 59</span><span class="w">                </span><span class="n">soln</span><span class="p">[</span><span class="n">currposrow</span><span class="p">][</span><span class="n">currposcol</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 60</span>
<span class="linenos"> 61</span><span class="w">                </span><span class="c1">// if there exist a solution by moving one step ahead in a column</span>
<span class="linenos"> 62</span><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">currposcol</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">maze</span><span class="p">[</span><span class="n">currposrow</span><span class="p">][</span><span class="n">currposcol</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"></span>
<span class="linenos"> 63</span><span class="w">                    </span><span class="n">solveMaze</span><span class="p">(</span><span class="n">currposrow</span><span class="p">,</span><span class="w"> </span><span class="n">currposcol</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">maze</span><span class="p">,</span><span class="w"> </span><span class="n">soln</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 64</span><span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 65</span><span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 66</span>
<span class="linenos"> 67</span><span class="w">                </span><span class="c1">// if there exists a solution by moving one step ahead in a row</span>
<span class="linenos"> 68</span><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">currposrow</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">maze</span><span class="p">[</span><span class="n">currposrow</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">][</span><span class="n">currposcol</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"></span>
<span class="linenos"> 69</span><span class="w">                    </span><span class="n">solveMaze</span><span class="p">(</span><span class="n">currposrow</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">currposcol</span><span class="p">,</span><span class="w"> </span><span class="n">maze</span><span class="p">,</span><span class="w"> </span><span class="n">soln</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 70</span><span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 71</span><span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 72</span>
<span class="linenos"> 73</span><span class="w">                </span><span class="c1">// the backtracking part</span>
<span class="linenos"> 74</span><span class="w">                </span><span class="n">soln</span><span class="p">[</span><span class="n">currposrow</span><span class="p">][</span><span class="n">currposcol</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 75</span><span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 76</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 77</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 78</span><span class="w">    </span><span class="p">}</span><span class="w">  </span><span class="c1">// namespace rat_maze</span>
<span class="linenos"> 79</span><span class="p">}</span><span class="w">  </span><span class="c1">// namespace backtracking</span>
<span class="linenos"> 80</span>
<span class="linenos"> 81</span><span class="cm">/**</span>
<span class="linenos"> 82</span><span class="cm"> * @brief Test implementations</span>
<span class="linenos"> 83</span><span class="cm"> * @returns void</span>
<span class="linenos"> 84</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos"> 85</span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">test</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 86</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 87</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;</span><span class="w"> </span><span class="n">maze</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 88</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span><span class="w"></span>
<span class="linenos"> 89</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span><span class="w"></span>
<span class="linenos"> 90</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span><span class="w"></span>
<span class="linenos"> 91</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 92</span><span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="linenos"> 93</span>
<span class="linenos"> 94</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">&gt;</span><span class="w"> </span><span class="n">soln</span><span class="p">{};</span><span class="w"></span>
<span class="linenos"> 95</span>
<span class="linenos"> 96</span><span class="w">    </span><span class="c1">// Backtracking: setup matrix solution to zero</span>
<span class="linenos"> 97</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 98</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 99</span><span class="w">            </span><span class="n">soln</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">100</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">101</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">102</span>
<span class="linenos">103</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">currposrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// Current position in rows</span>
<span class="linenos">104</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">currposcol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// Current position in columns</span>
<span class="linenos">105</span>
<span class="linenos">106</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">backtracking</span><span class="o">::</span><span class="n">rat_maze</span><span class="o">::</span><span class="n">solveMaze</span><span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="p">(</span><span class="n">currposrow</span><span class="p">,</span><span class="w"> </span><span class="n">currposcol</span><span class="p">,</span><span class="w"> </span><span class="n">maze</span><span class="p">,</span><span class="w"></span>
<span class="linenos">107</span><span class="w">        </span><span class="n">soln</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="linenos">108</span><span class="p">}</span><span class="w"></span>
<span class="linenos">109</span>
<span class="linenos">110</span><span class="cm">/**</span>
<span class="linenos">111</span><span class="cm"> * @brief Main function</span>
<span class="linenos">112</span><span class="cm"> * @returns 0 on exit</span>
<span class="linenos">113</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos">114</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">115</span><span class="w">    </span><span class="n">test</span><span class="p">();</span><span class="w"> </span><span class="c1">// run the tests</span>
<span class="linenos">116</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">117</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="id23">
<h4><a class="reference external" href="https://github.com/TheAlgorithms/C-Plus-Plus/blob/master/bit_manipulation/hamming_distance.cpp">Hamming distance</a><a class="headerlink" href="#id23" title="永久链接至标题">¶</a></h4>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/**</span>
<span class="linenos">  2</span><span class="cm"> * @file</span>
<span class="linenos">  3</span><span class="cm"> * @brief Returns the [Hamming</span>
<span class="linenos">  4</span><span class="cm"> * distance](https://en.wikipedia.org/wiki/Hamming_distance) between two</span>
<span class="linenos">  5</span><span class="cm"> * integers</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * @details</span>
<span class="linenos">  8</span><span class="cm"> * To find hamming distance between two integers, we take their xor, which will</span>
<span class="linenos">  9</span><span class="cm"> * have a set bit iff those bits differ in the two numbers.</span>
<span class="linenos"> 10</span><span class="cm"> * Hence, we return the number of such set bits.</span>
<span class="linenos"> 11</span><span class="cm"> *</span>
<span class="linenos"> 12</span><span class="cm"> * @author [Ravishankar Joshi](https://github.com/ravibitsgoa)</span>
<span class="linenos"> 13</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cassert&gt;</span><span class="c1">   /// for assert</span><span class="cp"></span>
<span class="linenos"> 16</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="c1">  /// for io operations</span><span class="cp"></span>
<span class="linenos"> 17</span>
<span class="linenos"> 18</span><span class="w"> </span><span class="cm">/**</span>
<span class="linenos"> 19</span><span class="cm">  * @namespace bit_manipulation</span>
<span class="linenos"> 20</span><span class="cm">  * @brief Bit Manipulation algorithms</span>
<span class="linenos"> 21</span><span class="cm">  */</span><span class="w"></span>
<span class="linenos"> 22</span><span class="k">namespace</span><span class="w"> </span><span class="nn">bit_manipulation</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 23</span><span class="w">    </span><span class="cm">/**</span>
<span class="linenos"> 24</span><span class="cm">     * @namespace hamming_distance</span>
<span class="linenos"> 25</span><span class="cm">     * @brief Functions for [Hamming</span>
<span class="linenos"> 26</span><span class="cm">     * distance](https://en.wikipedia.org/wiki/Hamming_distance) implementation</span>
<span class="linenos"> 27</span><span class="cm">     */</span><span class="w"></span>
<span class="linenos"> 28</span><span class="w">    </span><span class="k">namespace</span><span class="w"> </span><span class="nn">hamming_distance</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 29</span><span class="w">        </span><span class="cm">/**</span>
<span class="linenos"> 30</span><span class="cm">         * This function returns the number of set bits in the given number.</span>
<span class="linenos"> 31</span><span class="cm">         * @param value the number of which we want to count the number of set bits.</span>
<span class="linenos"> 32</span><span class="cm">         * @returns the number of set bits in the given number.</span>
<span class="linenos"> 33</span><span class="cm">         */</span><span class="w"></span>
<span class="linenos"> 34</span><span class="w">        </span><span class="kt">uint64_t</span><span class="w"> </span><span class="nf">bitCount</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 35</span><span class="w">            </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 36</span><span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">       </span><span class="c1">// until all bits are zero</span>
<span class="linenos"> 37</span><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// check lower bit</span>
<span class="linenos"> 38</span><span class="w">                    </span><span class="n">count</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 39</span><span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 40</span><span class="w">                </span><span class="n">value</span><span class="w"> </span><span class="o">&gt;&gt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">  </span><span class="c1">// shift bits, removing lower bit</span>
<span class="linenos"> 41</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 42</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 43</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 44</span>
<span class="linenos"> 45</span><span class="w">        </span><span class="cm">/**</span>
<span class="linenos"> 46</span><span class="cm">         * This function returns the hamming distance between two integers.</span>
<span class="linenos"> 47</span><span class="cm">         * @param a the first number</span>
<span class="linenos"> 48</span><span class="cm">         * @param b the second number</span>
<span class="linenos"> 49</span><span class="cm">         * @returns the number of bits differing between the two integers.</span>
<span class="linenos"> 50</span><span class="cm">         */</span><span class="w"></span>
<span class="linenos"> 51</span><span class="w">        </span><span class="kt">uint64_t</span><span class="w"> </span><span class="nf">hamming_distance</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">bitCount</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 52</span>
<span class="linenos"> 53</span><span class="w">        </span><span class="cm">/**</span>
<span class="linenos"> 54</span><span class="cm">         * This function returns the hamming distance between two strings.</span>
<span class="linenos"> 55</span><span class="cm">         * @param a the first string</span>
<span class="linenos"> 56</span><span class="cm">         * @param b the second string</span>
<span class="linenos"> 57</span><span class="cm">         * @returns the number of characters differing between the two strings.</span>
<span class="linenos"> 58</span><span class="cm">         */</span><span class="w"></span>
<span class="linenos"> 59</span><span class="w">        </span><span class="kt">uint64_t</span><span class="w"> </span><span class="nf">hamming_distance</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 60</span><span class="w">            </span><span class="n">assert</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">size</span><span class="p">());</span><span class="w"></span>
<span class="linenos"> 61</span><span class="w">            </span><span class="kt">size_t</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 62</span><span class="w">            </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 63</span><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 64</span><span class="w">                </span><span class="n">count</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span><span class="w"></span>
<span class="linenos"> 65</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 66</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 67</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 68</span><span class="w">    </span><span class="p">}</span><span class="w">  </span><span class="c1">// namespace hamming_distance</span>
<span class="linenos"> 69</span><span class="p">}</span><span class="w">  </span><span class="c1">// namespace bit_manipulation</span>
<span class="linenos"> 70</span>
<span class="linenos"> 71</span><span class="cm">/**</span>
<span class="linenos"> 72</span><span class="cm"> * @brief Function to the test hamming distance.</span>
<span class="linenos"> 73</span><span class="cm"> * @returns void</span>
<span class="linenos"> 74</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos"> 75</span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">test</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 76</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">bit_manipulation</span><span class="o">::</span><span class="n">hamming_distance</span><span class="o">::</span><span class="n">hamming_distance</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 77</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">bit_manipulation</span><span class="o">::</span><span class="n">hamming_distance</span><span class="o">::</span><span class="n">hamming_distance</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 78</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">bit_manipulation</span><span class="o">::</span><span class="n">hamming_distance</span><span class="o">::</span><span class="n">hamming_distance</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 79</span>
<span class="linenos"> 80</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">bit_manipulation</span><span class="o">::</span><span class="n">hamming_distance</span><span class="o">::</span><span class="n">hamming_distance</span><span class="p">(</span><span class="s">&quot;1101&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos"> 81</span><span class="w">        </span><span class="s">&quot;1111&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 82</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">bit_manipulation</span><span class="o">::</span><span class="n">hamming_distance</span><span class="o">::</span><span class="n">hamming_distance</span><span class="p">(</span><span class="s">&quot;1111&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos"> 83</span><span class="w">        </span><span class="s">&quot;1111&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 84</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">bit_manipulation</span><span class="o">::</span><span class="n">hamming_distance</span><span class="o">::</span><span class="n">hamming_distance</span><span class="p">(</span><span class="s">&quot;0000&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos"> 85</span><span class="w">        </span><span class="s">&quot;1111&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 86</span>
<span class="linenos"> 87</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">bit_manipulation</span><span class="o">::</span><span class="n">hamming_distance</span><span class="o">::</span><span class="n">hamming_distance</span><span class="p">(</span><span class="s">&quot;alpha&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos"> 88</span><span class="w">        </span><span class="s">&quot;alphb&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 89</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">bit_manipulation</span><span class="o">::</span><span class="n">hamming_distance</span><span class="o">::</span><span class="n">hamming_distance</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos"> 90</span><span class="w">        </span><span class="s">&quot;abcd&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 91</span><span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">bit_manipulation</span><span class="o">::</span><span class="n">hamming_distance</span><span class="o">::</span><span class="n">hamming_distance</span><span class="p">(</span><span class="s">&quot;dcba&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos"> 92</span><span class="w">        </span><span class="s">&quot;abcd&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 93</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 94</span>
<span class="linenos"> 95</span><span class="cm">/**</span>
<span class="linenos"> 96</span><span class="cm"> * @brief Main function</span>
<span class="linenos"> 97</span><span class="cm"> * @returns 0 on exit</span>
<span class="linenos"> 98</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos"> 99</span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">100</span><span class="w">    </span><span class="n">test</span><span class="p">();</span><span class="w">           </span><span class="c1">// execute the tests</span>
<span class="linenos">101</span><span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">11</span><span class="p">;</span><span class="w">  </span><span class="c1">// 1011 in binary</span>
<span class="linenos">102</span><span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">   </span><span class="c1">// 0010 in binary</span>
<span class="linenos">103</span>
<span class="linenos">104</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Hamming distance between &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; and &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; is &quot;</span><span class="w"></span>
<span class="linenos">105</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bit_manipulation</span><span class="o">::</span><span class="n">hamming_distance</span><span class="o">::</span><span class="n">hamming_distance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"></span>
<span class="linenos">106</span><span class="w">        </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="linenos">107</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Hamming</span> <span class="n">distance</span> <span class="n">between</span> <span class="mi">11</span> <span class="ow">and</span> <span class="mi">2</span> <span class="ow">is</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id24">
<h2>进阶<a class="headerlink" href="#id24" title="永久链接至标题">¶</a></h2>
<div class="section" id="id25">
<h3><a class="reference external" href="https://github.com/mxgmn/WaveFunctionCollapse">Wave Function Collapse - 波函数坍缩</a><a class="headerlink" href="#id25" title="永久链接至标题">¶</a></h3>
<div class="literal-block-wrapper docutils container" id="id40">
<div class="code-block-caption"><span class="caption-text">OverlappingModel.cs</span><a class="headerlink" href="#id40" title="永久链接至代码">¶</a></div>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/*</span>
<span class="linenos">  2</span><span class="cm">The MIT License(MIT)</span>
<span class="linenos">  3</span><span class="cm">Copyright(c) mxgmn 2016.</span>
<span class="linenos">  4</span><span class="cm">Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</span>
<span class="linenos">  5</span><span class="cm">The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</span>
<span class="linenos">  6</span><span class="cm">The software is provided &quot;as is&quot;, without warranty of any kind, express or implied, including but not limited to the warranties of merchantability, fitness for a particular purpose and noninfringement. In no event shall the authors or copyright holders be liable for any claim, damages or other liability, whether in an action of contract, tort or otherwise, arising from, out of or in connection with the software or the use or other dealings in the software.</span>
<span class="linenos">  7</span><span class="cm">*/</span>
<span class="linenos">  8</span>
<span class="linenos">  9</span><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="linenos"> 10</span><span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="linenos"> 11</span><span class="k">using</span> <span class="nn">System.Drawing</span><span class="p">;</span>
<span class="linenos"> 12</span><span class="k">using</span> <span class="nn">System.Drawing.Imaging</span><span class="p">;</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="k">internal</span> <span class="k">class</span> <span class="nc">OverlappingModel</span> <span class="p">:</span> <span class="n">Model</span>
<span class="linenos"> 15</span><span class="p">{</span>
<span class="linenos"> 16</span>    <span class="cp">#region 字段</span>
<span class="linenos"> 17</span>
<span class="linenos"> 18</span>    <span class="k">private</span> <span class="k">readonly</span> <span class="kt">int</span> <span class="n">_N</span><span class="p">;</span>
<span class="linenos"> 19</span>    <span class="k">private</span> <span class="k">readonly</span> <span class="kt">byte</span><span class="p">[][]</span> <span class="n">_patterns</span><span class="p">;</span>
<span class="linenos"> 20</span>    <span class="k">private</span> <span class="k">readonly</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Color</span><span class="p">&gt;</span> <span class="n">_colors</span><span class="p">;</span>
<span class="linenos"> 21</span>    <span class="k">private</span> <span class="k">readonly</span> <span class="kt">int</span> <span class="n">_ground</span><span class="p">;</span>
<span class="linenos"> 22</span>
<span class="linenos"> 23</span>    <span class="cp">#endregion</span>
<span class="linenos"> 24</span>
<span class="linenos"> 25</span>    <span class="cp">#region 构造函数</span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span>    <span class="c1">/// &lt;summary&gt;</span>
<span class="linenos"> 28</span>    <span class="c1">///</span>
<span class="linenos"> 29</span>    <span class="c1">/// &lt;/summary&gt;</span>
<span class="linenos"> 30</span>    <span class="c1">/// &lt;param name=&quot;name&quot;&gt;图片名称&lt;/param&gt;</span>
<span class="linenos"> 31</span>    <span class="c1">/// &lt;param name=&quot;N&quot;&gt;滤波窗口大小&lt;/param&gt;</span>
<span class="linenos"> 32</span>    <span class="c1">/// &lt;param name=&quot;width&quot;&gt;原图宽度&lt;/param&gt;</span>
<span class="linenos"> 33</span>    <span class="c1">/// &lt;param name=&quot;height&quot;&gt;原图高度&lt;/param&gt;</span>
<span class="linenos"> 34</span>    <span class="c1">/// &lt;param name=&quot;periodicInput&quot;&gt;&lt;/param&gt;</span>
<span class="linenos"> 35</span>    <span class="c1">/// &lt;param name=&quot;periodic&quot;&gt;&lt;/param&gt;</span>
<span class="linenos"> 36</span>    <span class="c1">/// &lt;param name=&quot;symmetry&quot;&gt;&lt;/param&gt;</span>
<span class="linenos"> 37</span>    <span class="c1">/// &lt;param name=&quot;ground&quot;&gt;&lt;/param&gt;</span>
<span class="linenos"> 38</span>    <span class="k">public</span> <span class="nf">OverlappingModel</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">N</span><span class="p">,</span> <span class="kt">int</span> <span class="n">width</span><span class="p">,</span> <span class="kt">int</span> <span class="n">height</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">periodicInput</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">periodic</span><span class="p">,</span> <span class="kt">int</span> <span class="n">symmetry</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ground</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
<span class="linenos"> 39</span>    <span class="p">{</span>
<span class="linenos"> 40</span>        <span class="n">_N</span> <span class="p">=</span> <span class="n">N</span><span class="p">;</span>
<span class="linenos"> 41</span>        <span class="n">_periodic</span> <span class="p">=</span> <span class="n">periodic</span><span class="p">;</span>
<span class="linenos"> 42</span>
<span class="linenos"> 43</span>        <span class="n">Bitmap</span> <span class="n">bitmap</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Bitmap</span><span class="p">(</span><span class="s">$&quot;samples/{name}.png&quot;</span><span class="p">);</span>
<span class="linenos"> 44</span>        <span class="kt">int</span> <span class="n">SMX</span> <span class="p">=</span> <span class="n">bitmap</span><span class="p">.</span><span class="n">Width</span><span class="p">,</span> <span class="n">SMY</span> <span class="p">=</span> <span class="n">bitmap</span><span class="p">.</span><span class="n">Height</span><span class="p">;</span>
<span class="linenos"> 45</span>        <span class="kt">byte</span><span class="p">[,]</span> <span class="n">sample</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="p">[</span><span class="n">SMX</span><span class="p">,</span> <span class="n">SMY</span><span class="p">];</span> <span class="c1">// 记录原始图片中每个像素（x,y） 的颜色映射到 colors 列表中的 index</span>
<span class="linenos"> 46</span>        <span class="n">_colors</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Color</span><span class="p">&gt;();</span> <span class="c1">// 记录原始图片中的颜色列表</span>
<span class="linenos"> 47</span>
<span class="linenos"> 48</span>        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">y</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="n">SMY</span><span class="p">;</span> <span class="n">y</span><span class="p">++)</span>
<span class="linenos"> 49</span>        <span class="p">{</span>
<span class="linenos"> 50</span>            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">SMX</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
<span class="linenos"> 51</span>            <span class="p">{</span>
<span class="linenos"> 52</span>                <span class="n">Color</span> <span class="n">color</span> <span class="p">=</span> <span class="n">bitmap</span><span class="p">.</span><span class="n">GetPixel</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span>                <span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
<span class="linenos"> 55</span>                <span class="k">foreach</span> <span class="p">(</span><span class="n">Color</span> <span class="n">c</span> <span class="k">in</span> <span class="n">_colors</span><span class="p">)</span>
<span class="linenos"> 56</span>                <span class="p">{</span>
<span class="linenos"> 57</span>                    <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="p">==</span> <span class="n">color</span><span class="p">)</span>
<span class="linenos"> 58</span>                    <span class="p">{</span>
<span class="linenos"> 59</span>                        <span class="k">break</span><span class="p">;</span>
<span class="linenos"> 60</span>                    <span class="p">}</span>
<span class="linenos"> 61</span>                    <span class="n">i</span><span class="p">++;</span>
<span class="linenos"> 62</span>                <span class="p">}</span>
<span class="linenos"> 63</span>                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">==</span> <span class="n">_colors</span><span class="p">.</span><span class="n">Count</span><span class="p">)</span>
<span class="linenos"> 64</span>                <span class="p">{</span>
<span class="linenos"> 65</span>                    <span class="n">_colors</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">color</span><span class="p">);</span>
<span class="linenos"> 66</span>                <span class="p">}</span>
<span class="linenos"> 67</span>                <span class="n">sample</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">byte</span><span class="p">)</span><span class="n">i</span><span class="p">;</span>
<span class="linenos"> 68</span>            <span class="p">}</span>
<span class="linenos"> 69</span>        <span class="p">}</span>
<span class="linenos"> 70</span>
<span class="linenos"> 71</span>        <span class="c1">// 输入图片中的颜色数量</span>
<span class="linenos"> 72</span>        <span class="kt">int</span> <span class="n">C</span> <span class="p">=</span> <span class="n">_colors</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span>
<span class="linenos"> 73</span>        <span class="c1">// 滤波窗口（N*N）有多少种颜色组成的可能</span>
<span class="linenos"> 74</span>        <span class="kt">long</span> <span class="n">W</span> <span class="p">=</span> <span class="n">C</span><span class="p">.</span><span class="n">ToPower</span><span class="p">(</span><span class="n">N</span> <span class="p">*</span> <span class="n">N</span><span class="p">);</span>
<span class="linenos"> 75</span>
<span class="linenos"> 76</span>        <span class="kt">byte</span><span class="p">[]</span> <span class="nf">pattern</span><span class="p">(</span><span class="n">Func</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">byte</span><span class="p">&gt;</span> <span class="n">f</span><span class="p">)</span>
<span class="linenos"> 77</span>        <span class="p">{</span>
<span class="linenos"> 78</span>            <span class="kt">byte</span><span class="p">[]</span> <span class="n">result</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="p">[</span><span class="n">N</span> <span class="p">*</span> <span class="n">N</span><span class="p">];</span>
<span class="linenos"> 79</span>            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">y</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">y</span><span class="p">++)</span>
<span class="linenos"> 80</span>            <span class="p">{</span>
<span class="linenos"> 81</span>                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
<span class="linenos"> 82</span>                <span class="p">{</span>
<span class="linenos"> 83</span>                    <span class="n">result</span><span class="p">[</span><span class="n">x</span> <span class="p">+</span> <span class="n">y</span> <span class="p">*</span> <span class="n">N</span><span class="p">]</span> <span class="p">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
<span class="linenos"> 84</span>                <span class="p">}</span>
<span class="linenos"> 85</span>            <span class="p">}</span>
<span class="linenos"> 86</span>
<span class="linenos"> 87</span>            <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="linenos"> 88</span>        <span class="p">};</span>
<span class="linenos"> 89</span>
<span class="linenos"> 90</span>        <span class="c1">// 使用滤波窗口（N*N）在原图片(SMX*SMY)中采样</span>
<span class="linenos"> 91</span>        <span class="c1">// 返回数组大小：N*N</span>
<span class="linenos"> 92</span>        <span class="kt">byte</span><span class="p">[]</span> <span class="nf">patternFromSample</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
<span class="linenos"> 93</span>        <span class="p">{</span>
<span class="linenos"> 94</span>            <span class="k">return</span> <span class="nf">pattern</span><span class="p">((</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">sample</span><span class="p">[(</span><span class="n">x</span> <span class="p">+</span> <span class="n">dx</span><span class="p">)</span> <span class="p">%</span> <span class="n">SMX</span><span class="p">,</span> <span class="p">(</span><span class="n">y</span> <span class="p">+</span> <span class="n">dy</span><span class="p">)</span> <span class="p">%</span> <span class="n">SMY</span><span class="p">]);</span>
<span class="linenos"> 95</span>        <span class="p">}</span>
<span class="linenos"> 96</span>
<span class="linenos"> 97</span>        <span class="c1">// 0,1</span>
<span class="linenos"> 98</span>        <span class="c1">// 2,3</span>
<span class="linenos"> 99</span>        <span class="c1">// To</span>
<span class="linenos">100</span>        <span class="c1">// 1,3</span>
<span class="linenos">101</span>        <span class="c1">// 0,2</span>
<span class="linenos">102</span>        <span class="c1">// 逆时针旋转90°</span>
<span class="linenos">103</span>        <span class="c1">// 输入 p 的 size : N*N</span>
<span class="linenos">104</span>        <span class="kt">byte</span><span class="p">[]</span> <span class="nf">rotate</span><span class="p">(</span><span class="kt">byte</span><span class="p">[]</span> <span class="n">p</span><span class="p">)</span>
<span class="linenos">105</span>        <span class="p">{</span>
<span class="linenos">106</span>            <span class="k">return</span> <span class="nf">pattern</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">[</span><span class="n">N</span> <span class="p">-</span> <span class="m">1</span> <span class="p">-</span> <span class="n">y</span> <span class="p">+</span> <span class="n">x</span> <span class="p">*</span> <span class="n">N</span><span class="p">]);</span>
<span class="linenos">107</span>        <span class="p">}</span>
<span class="linenos">108</span>
<span class="linenos">109</span>        <span class="c1">// 0,1</span>
<span class="linenos">110</span>        <span class="c1">// 2,3</span>
<span class="linenos">111</span>        <span class="c1">// To</span>
<span class="linenos">112</span>        <span class="c1">// 1,0</span>
<span class="linenos">113</span>        <span class="c1">// 3,2</span>
<span class="linenos">114</span>        <span class="c1">// 左右翻转</span>
<span class="linenos">115</span>        <span class="c1">// 输入 p 的 size : N*N</span>
<span class="linenos">116</span>        <span class="kt">byte</span><span class="p">[]</span> <span class="nf">reflect</span><span class="p">(</span><span class="kt">byte</span><span class="p">[]</span> <span class="n">p</span><span class="p">)</span>
<span class="linenos">117</span>        <span class="p">{</span>
<span class="linenos">118</span>            <span class="k">return</span> <span class="nf">pattern</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">[</span><span class="n">N</span> <span class="p">-</span> <span class="m">1</span> <span class="p">-</span> <span class="n">x</span> <span class="p">+</span> <span class="n">y</span> <span class="p">*</span> <span class="n">N</span><span class="p">]);</span>
<span class="linenos">119</span>        <span class="p">}</span>
<span class="linenos">120</span>
<span class="linenos">121</span>        <span class="c1">// 在 N*N 的窗口中使用 C 种颜色填充共 N*N的C次方种组合</span>
<span class="linenos">122</span>        <span class="c1">// 输入 p 的 size : N*N</span>
<span class="linenos">123</span>        <span class="c1">// 返回 给定的 数据 p (N*N) 是所有可能组合中的第几个</span>
<span class="linenos">124</span>        <span class="kt">long</span> <span class="nf">index</span><span class="p">(</span><span class="kt">byte</span><span class="p">[]</span> <span class="n">p</span><span class="p">)</span>
<span class="linenos">125</span>        <span class="p">{</span>
<span class="linenos">126</span>            <span class="kt">long</span> <span class="n">result</span> <span class="p">=</span> <span class="m">0</span><span class="p">,</span> <span class="n">power</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="linenos">127</span>            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
<span class="linenos">128</span>            <span class="p">{</span>
<span class="linenos">129</span>                <span class="n">result</span> <span class="p">+=</span> <span class="n">p</span><span class="p">[</span><span class="n">p</span><span class="p">.</span><span class="n">Length</span> <span class="p">-</span> <span class="m">1</span> <span class="p">-</span> <span class="n">i</span><span class="p">]</span> <span class="p">*</span> <span class="n">power</span><span class="p">;</span>
<span class="linenos">130</span>                <span class="n">power</span> <span class="p">*=</span> <span class="n">C</span><span class="p">;</span>
<span class="linenos">131</span>            <span class="p">}</span>
<span class="linenos">132</span>            <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="linenos">133</span>        <span class="p">};</span>
<span class="linenos">134</span>
<span class="linenos">135</span>        <span class="c1">// 在 N*N 的窗口中使用 C 种颜色填充共 N*N的C次方种组合</span>
<span class="linenos">136</span>        <span class="c1">// 输入 ind 为 index ,即从 N*N的C次方种组合中选择第ind中输出</span>
<span class="linenos">137</span>        <span class="c1">// 返回 N*N</span>
<span class="linenos">138</span>        <span class="kt">byte</span><span class="p">[]</span> <span class="nf">patternFromIndex</span><span class="p">(</span><span class="kt">long</span> <span class="n">ind</span><span class="p">)</span>
<span class="linenos">139</span>        <span class="p">{</span>
<span class="linenos">140</span>            <span class="kt">long</span> <span class="n">residue</span> <span class="p">=</span> <span class="n">ind</span><span class="p">,</span> <span class="n">power</span> <span class="p">=</span> <span class="n">W</span><span class="p">;</span>
<span class="linenos">141</span>            <span class="kt">byte</span><span class="p">[]</span> <span class="n">result</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="p">[</span><span class="n">N</span> <span class="p">*</span> <span class="n">N</span><span class="p">];</span>
<span class="linenos">142</span>
<span class="linenos">143</span>            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">result</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
<span class="linenos">144</span>            <span class="p">{</span>
<span class="linenos">145</span>                <span class="n">power</span> <span class="p">/=</span> <span class="n">C</span><span class="p">;</span>
<span class="linenos">146</span>                <span class="kt">int</span> <span class="n">count</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
<span class="linenos">147</span>
<span class="linenos">148</span>                <span class="k">while</span> <span class="p">(</span><span class="n">residue</span> <span class="p">&gt;=</span> <span class="n">power</span><span class="p">)</span>
<span class="linenos">149</span>                <span class="p">{</span>
<span class="linenos">150</span>                    <span class="n">residue</span> <span class="p">-=</span> <span class="n">power</span><span class="p">;</span>
<span class="linenos">151</span>                    <span class="n">count</span><span class="p">++;</span>
<span class="linenos">152</span>                <span class="p">}</span>
<span class="linenos">153</span>
<span class="linenos">154</span>                <span class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">byte</span><span class="p">)</span><span class="n">count</span><span class="p">;</span>
<span class="linenos">155</span>            <span class="p">}</span>
<span class="linenos">156</span>
<span class="linenos">157</span>            <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="linenos">158</span>        <span class="p">};</span>
<span class="linenos">159</span>        <span class="c1">// 输入图片中存在的 N*N 索引列表对应出现的次数</span>
<span class="linenos">160</span>        <span class="c1">// key： index</span>
<span class="linenos">161</span>        <span class="c1">// value: count</span>
<span class="linenos">162</span>        <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">long</span><span class="p">,</span> <span class="kt">int</span><span class="p">&gt;</span> <span class="n">weights</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">long</span><span class="p">,</span> <span class="kt">int</span><span class="p">&gt;();</span>
<span class="linenos">163</span>        <span class="c1">// 输入图片中存在的 N*N 索引列表</span>
<span class="linenos">164</span>        <span class="n">List</span><span class="p">&lt;</span><span class="kt">long</span><span class="p">&gt;</span> <span class="n">ordering</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">long</span><span class="p">&gt;();</span>
<span class="linenos">165</span>
<span class="linenos">166</span>        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">y</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="p">(</span><span class="n">periodicInput</span> <span class="p">?</span> <span class="n">SMY</span> <span class="p">:</span> <span class="n">SMY</span> <span class="p">-</span> <span class="n">N</span> <span class="p">+</span> <span class="m">1</span><span class="p">);</span> <span class="n">y</span><span class="p">++)</span>
<span class="linenos">167</span>        <span class="p">{</span>
<span class="linenos">168</span>            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="p">(</span><span class="n">periodicInput</span> <span class="p">?</span> <span class="n">SMX</span> <span class="p">:</span> <span class="n">SMX</span> <span class="p">-</span> <span class="n">N</span> <span class="p">+</span> <span class="m">1</span><span class="p">);</span> <span class="n">x</span><span class="p">++)</span>
<span class="linenos">169</span>            <span class="p">{</span>
<span class="linenos">170</span>
<span class="linenos">171</span>                <span class="c1">// 对采样数据（N*N）进行处理后的8种可能情况（旋转4*翻转2）</span>
<span class="linenos">172</span>                <span class="kt">byte</span><span class="p">[][]</span> <span class="n">ps</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="p">[</span><span class="m">8</span><span class="p">][];</span>
<span class="linenos">173</span>
<span class="linenos">174</span>                <span class="n">ps</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="n">patternFromSample</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>    <span class="c1">// 滤波窗口采样数据</span>
<span class="linenos">175</span>                <span class="n">ps</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="n">reflect</span><span class="p">(</span><span class="n">ps</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span>
<span class="linenos">176</span>                <span class="n">ps</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="n">rotate</span><span class="p">(</span><span class="n">ps</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span>              <span class="c1">// 逆时针旋转90°</span>
<span class="linenos">177</span>                <span class="n">ps</span><span class="p">[</span><span class="m">3</span><span class="p">]</span> <span class="p">=</span> <span class="n">reflect</span><span class="p">(</span><span class="n">ps</span><span class="p">[</span><span class="m">2</span><span class="p">]);</span>
<span class="linenos">178</span>                <span class="n">ps</span><span class="p">[</span><span class="m">4</span><span class="p">]</span> <span class="p">=</span> <span class="n">rotate</span><span class="p">(</span><span class="n">ps</span><span class="p">[</span><span class="m">2</span><span class="p">]);</span>              <span class="c1">// 逆时针旋转90°*2</span>
<span class="linenos">179</span>                <span class="n">ps</span><span class="p">[</span><span class="m">5</span><span class="p">]</span> <span class="p">=</span> <span class="n">reflect</span><span class="p">(</span><span class="n">ps</span><span class="p">[</span><span class="m">4</span><span class="p">]);</span>
<span class="linenos">180</span>                <span class="n">ps</span><span class="p">[</span><span class="m">6</span><span class="p">]</span> <span class="p">=</span> <span class="n">rotate</span><span class="p">(</span><span class="n">ps</span><span class="p">[</span><span class="m">4</span><span class="p">]);</span>              <span class="c1">// 逆时针旋转90°*3</span>
<span class="linenos">181</span>                <span class="n">ps</span><span class="p">[</span><span class="m">7</span><span class="p">]</span> <span class="p">=</span> <span class="n">reflect</span><span class="p">(</span><span class="n">ps</span><span class="p">[</span><span class="m">6</span><span class="p">]);</span>
<span class="linenos">182</span>
<span class="linenos">183</span>                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">k</span> <span class="p">&lt;</span> <span class="n">symmetry</span><span class="p">;</span> <span class="n">k</span><span class="p">++)</span>
<span class="linenos">184</span>                <span class="p">{</span>
<span class="linenos">185</span>                    <span class="kt">long</span> <span class="n">ind</span> <span class="p">=</span> <span class="n">index</span><span class="p">(</span><span class="n">ps</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
<span class="linenos">186</span>                    <span class="k">if</span> <span class="p">(</span><span class="n">weights</span><span class="p">.</span><span class="n">ContainsKey</span><span class="p">(</span><span class="n">ind</span><span class="p">))</span>
<span class="linenos">187</span>                    <span class="p">{</span>
<span class="linenos">188</span>                        <span class="n">weights</span><span class="p">[</span><span class="n">ind</span><span class="p">]++;</span>
<span class="linenos">189</span>                    <span class="p">}</span>
<span class="linenos">190</span>                    <span class="k">else</span>
<span class="linenos">191</span>                    <span class="p">{</span>
<span class="linenos">192</span>                        <span class="n">weights</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span>
<span class="linenos">193</span>                        <span class="n">ordering</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">ind</span><span class="p">);</span>
<span class="linenos">194</span>                    <span class="p">}</span>
<span class="linenos">195</span>                <span class="p">}</span>
<span class="linenos">196</span>            <span class="p">}</span>
<span class="linenos">197</span>        <span class="p">}</span>
<span class="linenos">198</span>
<span class="linenos">199</span>        <span class="c1">// 对输入的图片以 N*N 窗口进行采样时，共包含几种情况</span>
<span class="linenos">200</span>        <span class="c1">// 小于等于N*N的C次方</span>
<span class="linenos">201</span>        <span class="n">_T</span> <span class="p">=</span> <span class="n">weights</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span>
<span class="linenos">202</span>
<span class="linenos">203</span>        <span class="n">_ground</span> <span class="p">=</span> <span class="p">(</span><span class="n">ground</span> <span class="p">+</span> <span class="n">_T</span><span class="p">)</span> <span class="p">%</span> <span class="n">_T</span><span class="p">;</span>
<span class="linenos">204</span>
<span class="linenos">205</span>        <span class="c1">// 对输入图片进行采样后的结果：</span>
<span class="linenos">206</span>        <span class="c1">// _patterns: 图片中使用的所有 N*N 的 pattern</span>
<span class="linenos">207</span>        <span class="c1">// _weights: 图片中每种 pattern 出现的次数</span>
<span class="linenos">208</span>        <span class="n">_patterns</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="p">[</span><span class="n">_T</span><span class="p">][];</span>
<span class="linenos">209</span>        <span class="n">_weights</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">double</span><span class="p">[</span><span class="n">_T</span><span class="p">];</span>
<span class="linenos">210</span>
<span class="linenos">211</span>        <span class="kt">int</span> <span class="n">counter</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
<span class="linenos">212</span>        <span class="k">foreach</span> <span class="p">(</span><span class="kt">long</span> <span class="n">w</span> <span class="k">in</span> <span class="n">ordering</span><span class="p">)</span>
<span class="linenos">213</span>        <span class="p">{</span>
<span class="linenos">214</span>            <span class="n">_patterns</span><span class="p">[</span><span class="n">counter</span><span class="p">]</span> <span class="p">=</span> <span class="n">patternFromIndex</span><span class="p">(</span><span class="n">w</span><span class="p">);</span>
<span class="linenos">215</span>            <span class="n">_weights</span><span class="p">[</span><span class="n">counter</span><span class="p">]</span> <span class="p">=</span> <span class="n">weights</span><span class="p">[</span><span class="n">w</span><span class="p">];</span>
<span class="linenos">216</span>            <span class="n">counter</span><span class="p">++;</span>
<span class="linenos">217</span>        <span class="p">}</span>
<span class="linenos">218</span>
<span class="linenos">219</span>        <span class="kt">bool</span> <span class="nf">agrees</span><span class="p">(</span><span class="kt">byte</span><span class="p">[]</span> <span class="n">p1</span><span class="p">,</span> <span class="kt">byte</span><span class="p">[]</span> <span class="n">p2</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dx</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dy</span><span class="p">)</span>
<span class="linenos">220</span>        <span class="p">{</span>
<span class="linenos">221</span>            <span class="kt">int</span> <span class="n">xmin</span> <span class="p">=</span> <span class="n">dx</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">?</span> <span class="m">0</span> <span class="p">:</span> <span class="n">dx</span><span class="p">,</span> <span class="n">xmax</span> <span class="p">=</span> <span class="n">dx</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">?</span> <span class="n">dx</span> <span class="p">+</span> <span class="n">N</span> <span class="p">:</span> <span class="n">N</span><span class="p">,</span> <span class="n">ymin</span> <span class="p">=</span> <span class="n">dy</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">?</span> <span class="m">0</span> <span class="p">:</span> <span class="n">dy</span><span class="p">,</span> <span class="n">ymax</span> <span class="p">=</span> <span class="n">dy</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">?</span> <span class="n">dy</span> <span class="p">+</span> <span class="n">N</span> <span class="p">:</span> <span class="n">N</span><span class="p">;</span>
<span class="linenos">222</span>            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">y</span> <span class="p">=</span> <span class="n">ymin</span><span class="p">;</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="n">ymax</span><span class="p">;</span> <span class="n">y</span><span class="p">++)</span>
<span class="linenos">223</span>            <span class="p">{</span>
<span class="linenos">224</span>                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="n">xmin</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">xmax</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
<span class="linenos">225</span>                <span class="p">{</span>
<span class="linenos">226</span>                    <span class="k">if</span> <span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="n">x</span> <span class="p">+</span> <span class="n">N</span> <span class="p">*</span> <span class="n">y</span><span class="p">]</span> <span class="p">!=</span> <span class="n">p2</span><span class="p">[</span><span class="n">x</span> <span class="p">-</span> <span class="n">dx</span> <span class="p">+</span> <span class="n">N</span> <span class="p">*</span> <span class="p">(</span><span class="n">y</span> <span class="p">-</span> <span class="n">dy</span><span class="p">)])</span>
<span class="linenos">227</span>                    <span class="p">{</span>
<span class="linenos">228</span>                        <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
<span class="linenos">229</span>                    <span class="p">}</span>
<span class="linenos">230</span>                <span class="p">}</span>
<span class="linenos">231</span>            <span class="p">}</span>
<span class="linenos">232</span>
<span class="linenos">233</span>            <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
<span class="linenos">234</span>        <span class="p">};</span>
<span class="linenos">235</span>
<span class="linenos">236</span>
<span class="linenos">237</span>        <span class="c1">// 计算采样出来的 _patterns 中，两两之间是否兼容</span>
<span class="linenos">238</span>        <span class="n">_propagator</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="m">4</span><span class="p">][][];</span><span class="c1">// 上、下、左、右</span>
<span class="linenos">239</span>        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">d</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">d</span> <span class="p">&lt;</span> <span class="m">4</span><span class="p">;</span> <span class="n">d</span><span class="p">++)</span>
<span class="linenos">240</span>        <span class="p">{</span>
<span class="linenos">241</span>            <span class="n">_propagator</span><span class="p">[</span><span class="n">d</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">_T</span><span class="p">][];</span>
<span class="linenos">242</span>            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">t</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">t</span> <span class="p">&lt;</span> <span class="n">_T</span><span class="p">;</span> <span class="n">t</span><span class="p">++)</span>
<span class="linenos">243</span>            <span class="p">{</span>
<span class="linenos">244</span>                <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">list</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
<span class="linenos">245</span>                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">t2</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">t2</span> <span class="p">&lt;</span> <span class="n">_T</span><span class="p">;</span> <span class="n">t2</span><span class="p">++)</span>
<span class="linenos">246</span>                <span class="p">{</span>
<span class="linenos">247</span>                    <span class="k">if</span> <span class="p">(</span><span class="n">agrees</span><span class="p">(</span><span class="n">_patterns</span><span class="p">[</span><span class="n">t</span><span class="p">],</span> <span class="n">_patterns</span><span class="p">[</span><span class="n">t2</span><span class="p">],</span> <span class="n">_DX</span><span class="p">[</span><span class="n">d</span><span class="p">],</span> <span class="n">_DY</span><span class="p">[</span><span class="n">d</span><span class="p">]))</span>
<span class="linenos">248</span>                    <span class="p">{</span>
<span class="linenos">249</span>                        <span class="n">list</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">t2</span><span class="p">);</span>
<span class="linenos">250</span>                    <span class="p">}</span>
<span class="linenos">251</span>                <span class="p">}</span>
<span class="linenos">252</span>
<span class="linenos">253</span>                <span class="n">_propagator</span><span class="p">[</span><span class="n">d</span><span class="p">][</span><span class="n">t</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">list</span><span class="p">.</span><span class="n">Count</span><span class="p">];</span>
<span class="linenos">254</span>                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">c</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">c</span> <span class="p">&lt;</span> <span class="n">list</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="n">c</span><span class="p">++)</span>
<span class="linenos">255</span>                <span class="p">{</span>
<span class="linenos">256</span>                    <span class="n">_propagator</span><span class="p">[</span><span class="n">d</span><span class="p">][</span><span class="n">t</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="p">=</span> <span class="n">list</span><span class="p">[</span><span class="n">c</span><span class="p">];</span>
<span class="linenos">257</span>                <span class="p">}</span>
<span class="linenos">258</span>            <span class="p">}</span>
<span class="linenos">259</span>        <span class="p">}</span>
<span class="linenos">260</span>    <span class="p">}</span>
<span class="linenos">261</span>
<span class="linenos">262</span>    <span class="cp">#endregion</span>
<span class="linenos">263</span>
<span class="linenos">264</span>    <span class="cp">#region 重写</span>
<span class="linenos">265</span>
<span class="linenos">266</span>    <span class="k">protected</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">OnBoundary</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">!</span><span class="n">_periodic</span> <span class="p">&amp;&amp;</span> <span class="p">(</span><span class="n">x</span> <span class="p">+</span> <span class="n">_N</span> <span class="p">&gt;</span> <span class="n">_FMX</span> <span class="p">||</span> <span class="n">y</span> <span class="p">+</span> <span class="n">_N</span> <span class="p">&gt;</span> <span class="n">_FMY</span> <span class="p">||</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">||</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">);</span>
<span class="linenos">267</span>
<span class="linenos">268</span>    <span class="k">public</span> <span class="k">override</span> <span class="n">Bitmap</span> <span class="nf">Graphics</span><span class="p">()</span>
<span class="linenos">269</span>    <span class="p">{</span>
<span class="linenos">270</span>        <span class="n">Bitmap</span> <span class="n">result</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Bitmap</span><span class="p">(</span><span class="n">_FMX</span><span class="p">,</span> <span class="n">_FMY</span><span class="p">);</span>
<span class="linenos">271</span>        <span class="kt">int</span><span class="p">[]</span> <span class="n">bitmapData</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">result</span><span class="p">.</span><span class="n">Height</span> <span class="p">*</span> <span class="n">result</span><span class="p">.</span><span class="n">Width</span><span class="p">];</span>
<span class="linenos">272</span>
<span class="linenos">273</span>        <span class="k">if</span> <span class="p">(</span><span class="n">_observed</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
<span class="linenos">274</span>        <span class="p">{</span>
<span class="linenos">275</span>            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">y</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="n">_FMY</span><span class="p">;</span> <span class="n">y</span><span class="p">++)</span>
<span class="linenos">276</span>            <span class="p">{</span>
<span class="linenos">277</span>                <span class="kt">int</span> <span class="n">dy</span> <span class="p">=</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="n">_FMY</span> <span class="p">-</span> <span class="n">_N</span> <span class="p">+</span> <span class="m">1</span> <span class="p">?</span> <span class="m">0</span> <span class="p">:</span> <span class="n">_N</span> <span class="p">-</span> <span class="m">1</span><span class="p">;</span>
<span class="linenos">278</span>                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_FMX</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
<span class="linenos">279</span>                <span class="p">{</span>
<span class="linenos">280</span>                    <span class="kt">int</span> <span class="n">dx</span> <span class="p">=</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_FMX</span> <span class="p">-</span> <span class="n">_N</span> <span class="p">+</span> <span class="m">1</span> <span class="p">?</span> <span class="m">0</span> <span class="p">:</span> <span class="n">_N</span> <span class="p">-</span> <span class="m">1</span><span class="p">;</span>
<span class="linenos">281</span>                    <span class="n">Color</span> <span class="n">c</span> <span class="p">=</span> <span class="n">_colors</span><span class="p">[</span><span class="n">_patterns</span><span class="p">[</span><span class="n">_observed</span><span class="p">[</span><span class="n">x</span> <span class="p">-</span> <span class="n">dx</span> <span class="p">+</span> <span class="p">(</span><span class="n">y</span> <span class="p">-</span> <span class="n">dy</span><span class="p">)</span> <span class="p">*</span> <span class="n">_FMX</span><span class="p">]][</span><span class="n">dx</span> <span class="p">+</span> <span class="n">dy</span> <span class="p">*</span> <span class="n">_N</span><span class="p">]];</span>
<span class="linenos">282</span>                    <span class="n">bitmapData</span><span class="p">[</span><span class="n">x</span> <span class="p">+</span> <span class="n">y</span> <span class="p">*</span> <span class="n">_FMX</span><span class="p">]</span> <span class="p">=</span> <span class="k">unchecked</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="m">0</span><span class="n">xff000000</span> <span class="p">|</span> <span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="n">R</span> <span class="p">&lt;&lt;</span> <span class="m">16</span><span class="p">)</span> <span class="p">|</span> <span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="n">G</span> <span class="p">&lt;&lt;</span> <span class="m">8</span><span class="p">)</span> <span class="p">|</span> <span class="n">c</span><span class="p">.</span><span class="n">B</span><span class="p">);</span>
<span class="linenos">283</span>                <span class="p">}</span>
<span class="linenos">284</span>            <span class="p">}</span>
<span class="linenos">285</span>        <span class="p">}</span>
<span class="linenos">286</span>        <span class="k">else</span>
<span class="linenos">287</span>        <span class="p">{</span>
<span class="linenos">288</span>            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">_wave</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
<span class="linenos">289</span>            <span class="p">{</span>
<span class="linenos">290</span>                <span class="kt">int</span> <span class="n">contributors</span> <span class="p">=</span> <span class="m">0</span><span class="p">,</span> <span class="n">r</span> <span class="p">=</span> <span class="m">0</span><span class="p">,</span> <span class="n">g</span> <span class="p">=</span> <span class="m">0</span><span class="p">,</span> <span class="n">b</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
<span class="linenos">291</span>                <span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="n">i</span> <span class="p">%</span> <span class="n">_FMX</span><span class="p">,</span> <span class="n">y</span> <span class="p">=</span> <span class="n">i</span> <span class="p">/</span> <span class="n">_FMX</span><span class="p">;</span>
<span class="linenos">292</span>
<span class="linenos">293</span>                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">dy</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">dy</span> <span class="p">&lt;</span> <span class="n">_N</span><span class="p">;</span> <span class="n">dy</span><span class="p">++)</span>
<span class="linenos">294</span>                <span class="p">{</span>
<span class="linenos">295</span>                    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">dx</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">dx</span> <span class="p">&lt;</span> <span class="n">_N</span><span class="p">;</span> <span class="n">dx</span><span class="p">++)</span>
<span class="linenos">296</span>                    <span class="p">{</span>
<span class="linenos">297</span>                        <span class="kt">int</span> <span class="n">sx</span> <span class="p">=</span> <span class="n">x</span> <span class="p">-</span> <span class="n">dx</span><span class="p">;</span>
<span class="linenos">298</span>                        <span class="k">if</span> <span class="p">(</span><span class="n">sx</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">)</span>
<span class="linenos">299</span>                        <span class="p">{</span>
<span class="linenos">300</span>                            <span class="n">sx</span> <span class="p">+=</span> <span class="n">_FMX</span><span class="p">;</span>
<span class="linenos">301</span>                        <span class="p">}</span>
<span class="linenos">302</span>
<span class="linenos">303</span>                        <span class="kt">int</span> <span class="n">sy</span> <span class="p">=</span> <span class="n">y</span> <span class="p">-</span> <span class="n">dy</span><span class="p">;</span>
<span class="linenos">304</span>                        <span class="k">if</span> <span class="p">(</span><span class="n">sy</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">)</span>
<span class="linenos">305</span>                        <span class="p">{</span>
<span class="linenos">306</span>                            <span class="n">sy</span> <span class="p">+=</span> <span class="n">_FMY</span><span class="p">;</span>
<span class="linenos">307</span>                        <span class="p">}</span>
<span class="linenos">308</span>
<span class="linenos">309</span>                        <span class="kt">int</span> <span class="n">s</span> <span class="p">=</span> <span class="n">sx</span> <span class="p">+</span> <span class="n">sy</span> <span class="p">*</span> <span class="n">_FMX</span><span class="p">;</span>
<span class="linenos">310</span>                        <span class="k">if</span> <span class="p">(</span><span class="n">OnBoundary</span><span class="p">(</span><span class="n">sx</span><span class="p">,</span> <span class="n">sy</span><span class="p">))</span>
<span class="linenos">311</span>                        <span class="p">{</span>
<span class="linenos">312</span>                            <span class="k">continue</span><span class="p">;</span>
<span class="linenos">313</span>                        <span class="p">}</span>
<span class="linenos">314</span>
<span class="linenos">315</span>                        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">t</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">t</span> <span class="p">&lt;</span> <span class="n">_T</span><span class="p">;</span> <span class="n">t</span><span class="p">++)</span>
<span class="linenos">316</span>                        <span class="p">{</span>
<span class="linenos">317</span>                            <span class="k">if</span> <span class="p">(</span><span class="n">_wave</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">t</span><span class="p">])</span>
<span class="linenos">318</span>                            <span class="p">{</span>
<span class="linenos">319</span>                                <span class="n">contributors</span><span class="p">++;</span>
<span class="linenos">320</span>                                <span class="n">Color</span> <span class="n">color</span> <span class="p">=</span> <span class="n">_colors</span><span class="p">[</span><span class="n">_patterns</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span class="n">dx</span> <span class="p">+</span> <span class="n">dy</span> <span class="p">*</span> <span class="n">_N</span><span class="p">]];</span>
<span class="linenos">321</span>                                <span class="n">r</span> <span class="p">+=</span> <span class="n">color</span><span class="p">.</span><span class="n">R</span><span class="p">;</span>
<span class="linenos">322</span>                                <span class="n">g</span> <span class="p">+=</span> <span class="n">color</span><span class="p">.</span><span class="n">G</span><span class="p">;</span>
<span class="linenos">323</span>                                <span class="n">b</span> <span class="p">+=</span> <span class="n">color</span><span class="p">.</span><span class="n">B</span><span class="p">;</span>
<span class="linenos">324</span>                            <span class="p">}</span>
<span class="linenos">325</span>                        <span class="p">}</span>
<span class="linenos">326</span>                    <span class="p">}</span>
<span class="linenos">327</span>                <span class="p">}</span>
<span class="linenos">328</span>
<span class="linenos">329</span>                <span class="n">bitmapData</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="k">unchecked</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="m">0</span><span class="n">xff000000</span> <span class="p">|</span> <span class="p">((</span><span class="n">r</span> <span class="p">/</span> <span class="n">contributors</span><span class="p">)</span> <span class="p">&lt;&lt;</span> <span class="m">16</span><span class="p">)</span> <span class="p">|</span> <span class="p">((</span><span class="n">g</span> <span class="p">/</span> <span class="n">contributors</span><span class="p">)</span> <span class="p">&lt;&lt;</span> <span class="m">8</span><span class="p">)</span> <span class="p">|</span> <span class="n">b</span> <span class="p">/</span> <span class="n">contributors</span><span class="p">);</span>
<span class="linenos">330</span>            <span class="p">}</span>
<span class="linenos">331</span>        <span class="p">}</span>
<span class="linenos">332</span>
<span class="linenos">333</span>        <span class="n">BitmapData</span> <span class="n">bits</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="n">LockBits</span><span class="p">(</span><span class="k">new</span> <span class="n">Rectangle</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">Width</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">Height</span><span class="p">),</span> <span class="n">ImageLockMode</span><span class="p">.</span><span class="n">WriteOnly</span><span class="p">,</span> <span class="n">PixelFormat</span><span class="p">.</span><span class="n">Format32bppArgb</span><span class="p">);</span>
<span class="linenos">334</span>        <span class="n">System</span><span class="p">.</span><span class="n">Runtime</span><span class="p">.</span><span class="n">InteropServices</span><span class="p">.</span><span class="n">Marshal</span><span class="p">.</span><span class="n">Copy</span><span class="p">(</span><span class="n">bitmapData</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">bits</span><span class="p">.</span><span class="n">Scan0</span><span class="p">,</span> <span class="n">bitmapData</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
<span class="linenos">335</span>        <span class="n">result</span><span class="p">.</span><span class="n">UnlockBits</span><span class="p">(</span><span class="n">bits</span><span class="p">);</span>
<span class="linenos">336</span>
<span class="linenos">337</span>        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="linenos">338</span>    <span class="p">}</span>
<span class="linenos">339</span>
<span class="linenos">340</span>    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Clear</span><span class="p">()</span>
<span class="linenos">341</span>    <span class="p">{</span>
<span class="linenos">342</span>        <span class="k">base</span><span class="p">.</span><span class="n">Clear</span><span class="p">();</span>
<span class="linenos">343</span>
<span class="linenos">344</span>        <span class="k">if</span> <span class="p">(</span><span class="n">_ground</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span>
<span class="linenos">345</span>        <span class="p">{</span>
<span class="linenos">346</span>            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_FMX</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
<span class="linenos">347</span>            <span class="p">{</span>
<span class="linenos">348</span>                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">t</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">t</span> <span class="p">&lt;</span> <span class="n">_T</span><span class="p">;</span> <span class="n">t</span><span class="p">++)</span>
<span class="linenos">349</span>                <span class="p">{</span>
<span class="linenos">350</span>                    <span class="k">if</span> <span class="p">(</span><span class="n">t</span> <span class="p">!=</span> <span class="n">_ground</span><span class="p">)</span>
<span class="linenos">351</span>                    <span class="p">{</span>
<span class="linenos">352</span>                        <span class="n">Ban</span><span class="p">(</span><span class="n">x</span> <span class="p">+</span> <span class="p">(</span><span class="n">_FMY</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span> <span class="p">*</span> <span class="n">_FMX</span><span class="p">,</span> <span class="n">t</span><span class="p">);</span>
<span class="linenos">353</span>                    <span class="p">}</span>
<span class="linenos">354</span>                <span class="p">}</span>
<span class="linenos">355</span>
<span class="linenos">356</span>                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">y</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="n">_FMY</span> <span class="p">-</span> <span class="m">1</span><span class="p">;</span> <span class="n">y</span><span class="p">++)</span>
<span class="linenos">357</span>                <span class="p">{</span>
<span class="linenos">358</span>                    <span class="n">Ban</span><span class="p">(</span><span class="n">x</span> <span class="p">+</span> <span class="n">y</span> <span class="p">*</span> <span class="n">_FMX</span><span class="p">,</span> <span class="n">_ground</span><span class="p">);</span>
<span class="linenos">359</span>                <span class="p">}</span>
<span class="linenos">360</span>            <span class="p">}</span>
<span class="linenos">361</span>
<span class="linenos">362</span>            <span class="n">Propagate</span><span class="p">();</span>
<span class="linenos">363</span>        <span class="p">}</span>
<span class="linenos">364</span>    <span class="p">}</span>
<span class="linenos">365</span>
<span class="linenos">366</span>    <span class="cp">#endregion</span>
<span class="linenos">367</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="merkle-tree">
<h3>Merkle Tree - 默克尔树<a class="headerlink" href="#merkle-tree" title="永久链接至标题">¶</a></h3>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="Vocabulary.html" class="btn btn-neutral float-right" title="Vocabulary" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="NSIS.html" class="btn btn-neutral float-left" title="nullsoft scriptable install system 3.0.4" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; 版权所有 2021, horizonshd.

    </p>
  </div>
    
    
    
    利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    
    由 <a href="https://readthedocs.org">Read the Docs</a>开发. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>